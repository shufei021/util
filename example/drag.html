<!DOCTYPE html>  
<html lang="en">  
<head>  
<meta charset="UTF-8">  
<meta name="viewport" content="width=device-width, initial-scale=1.0">  
<title>图形绘制与拖拽</title>  
<style>  
  #container {  
    display: flex;  
    justify-content: space-between;  
  }  
  #config {  
    width: 200px;  
    border: 1px solid #ccc;  
    padding: 10px;  
  }  
  #canvas {  
    position: relative;  
    border: 1px solid #000;  
    min-height: 300px;  
    width: 500px;  
    overflow: auto;  
  }  
  .shape {  
    position: absolute;  
    z-index: 1000;  
    cursor: move;  
  }  
  .circle {  
    width: 50px;  
    height: 50px;  
    background-color: red;  
    border-radius: 50%;  
  }  
  .square {  
    width: 50px;  
    height: 50px;  
    background-color: blue;  
  }  
  .rectangle {  
    width: 100px;  
    height: 50px;  
    background-color: green;  
  }  
</style>  
</head>  
<body>  
  
<div id="container">  
  <div id="config">  
    <button id="circleBtn">圆形</button>  
    <button id="squareBtn">正方形</button>  
    <button id="rectangleBtn">矩形</button>  
  </div>  
  <div id="canvas"></div>  
</div>  
  
<script>  
  const canvas = document.getElementById('canvas');  
  const circleBtn = document.getElementById('circleBtn');  
  const squareBtn = document.getElementById('squareBtn');  
  const rectangleBtn = document.getElementById('rectangleBtn');  
  
  let draggedElement = null;  
  
  function createShape(shapeType) {  
    const shape = document.createElement('div');  
    shape.classList.add('shape', shapeType);  
    shape.style.left = '0px';  
    shape.style.top = '0px';  
    canvas.appendChild(shape);  
  
    // 拖拽功能  
    shape.addEventListener('mousedown', function(event) {  
      draggedElement = shape;  
      event.dataTransfer.setData('text/plain', '');  
    });  
  
    document.addEventListener('mousemove', function(event) {  
      if (draggedElement) {  
        draggedElement.style.left = `${event.clientX - canvas.offsetLeft}px`;  
        draggedElement.style.top = `${event.clientY - canvas.offsetTop}px`;  
      }  
    });  
  
    document.addEventListener('mouseup', function() {  
      draggedElement = null;  
    });  
  }  
  
  circleBtn.addEventListener('click', () => createShape('circle'));  
  squareBtn.addEventListener('click', () => createShape('square'));  
  rectangleBtn.addEventListener('click', () => createShape('rectangle'));  
</script>  
  
</body>  
</html>