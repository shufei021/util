!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).session=t()}(this,function(){"use strict";function r(e){return JSON.parse(f(e))}function o(e){return"string"==typeof e}function i(t,e){if(o(t)){var n=null;try{n=r(t)}catch(e){n=f(t)}return void 0===e||n?n:e}if(l(t))return t.length?t.reduce(function(e,t){var n=null;if(o(t)){try{n=r(t)}catch(e){n=f(t)}n&&(e[t]=n)}return e},{}):void 0!==e?e:{}}var e=sessionStorage,f=e.getItem.bind(e),c=e.setItem.bind(e),s=e.removeItem.bind(e),a=(e.clear.bind(e),JSON.stringify),l=Array.isArray;return{get:i,set:function(e,t){if(o(e))c(e,a(t));else if(l(e))for(var n=0;n<e.length;n++){var r=e[n];if("[object Object]"===Object.prototype.toString.call(r))for(var i in r)c(i,o(r[i])?r[i]:a(r[i]))}},del:function(e){if(o(e))s(e);else if(Array.isArray(e))for(var t=0,n=e.length;t<n;t++){var r=e[t];o(r)&&s(r)}},clearAll:function(){e.clear()},each:function(e){for(var t=Object.keys(sessionStorage),n=0;n<t.length;n++)e(t[n],i(t[n]))}}});
