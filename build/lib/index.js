!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).rutils=t()}(this,function(){"use strict";function L(t,e){var n,r=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),r.push.apply(r,n)),r}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?L(Object(n),!0).forEach(function(e){f(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):L(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}function S(){S=function(){return u};var u={},e=Object.prototype,c=e.hasOwnProperty,s=Object.defineProperty||function(e,t,n){e[t]=n.value},t="function"==typeof Symbol?Symbol:{},r=t.iterator||"@@iterator",n=t.asyncIterator||"@@asyncIterator",o=t.toStringTag||"@@toStringTag";function i(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{i({},"")}catch(e){i=function(e,t,n){return e[t]=n}}function a(e,t,n,r){var o,i,u,a,t=t&&t.prototype instanceof d?t:d,t=Object.create(t.prototype),r=new D(r||[]);return s(t,"_invoke",{value:(o=e,i=n,u=r,a="suspendedStart",function(e,t){if("executing"===a)throw new Error("Generator is already running");if("completed"===a){if("throw"===e)throw t;return A()}for(u.method=e,u.arg=t;;){var n=u.delegate;if(n){n=function e(t,n){var r=n.method,o=t.iterator[r];if(void 0===o)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=void 0,e(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),f;r=l(o,t.iterator,n.arg);if("throw"===r.type)return n.method="throw",n.arg=r.arg,n.delegate=null,f;o=r.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=void 0),n.delegate=null,f):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,f)}(n,u);if(n){if(n===f)continue;return n}}if("next"===u.method)u.sent=u._sent=u.arg;else if("throw"===u.method){if("suspendedStart"===a)throw a="completed",u.arg;u.dispatchException(u.arg)}else"return"===u.method&&u.abrupt("return",u.arg);a="executing";n=l(o,i,u);if("normal"===n.type){if(a=u.done?"completed":"suspendedYield",n.arg===f)continue;return{value:n.arg,done:u.done}}"throw"===n.type&&(a="completed",u.method="throw",u.arg=n.arg)}})}),t}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}u.wrap=a;var f={};function d(){}function h(){}function g(){}var t={},p=(i(t,r,function(){return this}),Object.getPrototypeOf),p=p&&p(p(F([]))),y=(p&&p!==e&&c.call(p,r)&&(t=p),g.prototype=d.prototype=Object.create(t));function v(e){["next","throw","return"].forEach(function(t){i(e,t,function(e){return this._invoke(t,e)})})}function m(u,a){var t;s(this,"_invoke",{value:function(n,r){function e(){return new a(function(e,t){!function t(e,n,r,o){var i,e=l(u[e],u,n);if("throw"!==e.type)return(n=(i=e.arg).value)&&"object"==typeof n&&c.call(n,"__await")?a.resolve(n.__await).then(function(e){t("next",e,r,o)},function(e){t("throw",e,r,o)}):a.resolve(n).then(function(e){i.value=e,r(i)},function(e){return t("throw",e,r,o)});o(e.arg)}(n,r,e,t)})}return t=t?t.then(e,e):e()}})}function b(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function w(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function D(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(b,this),this.reset(!0)}function F(t){if(t){var n,e=t[r];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length))return n=-1,(e=function e(){for(;++n<t.length;)if(c.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=void 0,e.done=!0,e}).next=e}return{next:A}}function A(){return{value:void 0,done:!0}}return s(y,"constructor",{value:h.prototype=g,configurable:!0}),s(g,"constructor",{value:h,configurable:!0}),h.displayName=i(g,o,"GeneratorFunction"),u.isGeneratorFunction=function(e){e="function"==typeof e&&e.constructor;return!!e&&(e===h||"GeneratorFunction"===(e.displayName||e.name))},u.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,i(e,o,"GeneratorFunction")),e.prototype=Object.create(y),e},u.awrap=function(e){return{__await:e}},v(m.prototype),i(m.prototype,n,function(){return this}),u.AsyncIterator=m,u.async=function(e,t,n,r,o){void 0===o&&(o=Promise);var i=new m(a(e,t,n,r),o);return u.isGeneratorFunction(t)?i:i.next().then(function(e){return e.done?e.value:i.next()})},v(y),i(y,o,"Generator"),i(y,r,function(){return this}),i(y,"toString",function(){return"[object Generator]"}),u.keys=function(e){var t,n=Object(e),r=[];for(t in n)r.push(t);return r.reverse(),function e(){for(;r.length;){var t=r.pop();if(t in n)return e.value=t,e.done=!1,e}return e.done=!0,e}},u.values=F,D.prototype={constructor:D,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(w),!e)for(var t in this)"t"===t.charAt(0)&&c.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(n){if(this.done)throw n;var r=this;function e(e,t){return i.type="throw",i.arg=n,r.next=e,t&&(r.method="next",r.arg=void 0),!!t}for(var t=this.tryEntries.length-1;0<=t;--t){var o=this.tryEntries[t],i=o.completion;if("root"===o.tryLoc)return e("end");if(o.tryLoc<=this.prev){var u=c.call(o,"catchLoc"),a=c.call(o,"finallyLoc");if(u&&a){if(this.prev<o.catchLoc)return e(o.catchLoc,!0);if(this.prev<o.finallyLoc)return e(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return e(o.catchLoc,!0)}else{if(!a)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return e(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;0<=n;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&c.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var o=r;break}}var i=(o=o&&("break"===e||"continue"===e)&&o.tryLoc<=t&&t<=o.finallyLoc?null:o)?o.completion:{};return i.type=e,i.arg=t,o?(this.method="next",this.next=o.finallyLoc,f):this.complete(i)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),f},finish:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),w(n),f}},catch:function(e){for(var t=this.tryEntries.length-1;0<=t;--t){var n,r,o=this.tryEntries[t];if(o.tryLoc===e)return"throw"===(n=o.completion).type&&(r=n.arg,w(o)),r}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:F(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),f}},u}function a(e){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t,n,r,o,i,u){try{var a=e[i](u),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function l(a){return function(){var e=this,u=arguments;return new Promise(function(t,n){var r=a.apply(e,u);function o(e){Y(r,t,n,o,i,"next",e)}function i(e){Y(r,t,n,o,i,"throw",e)}o(void 0)})}}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,B(r.key),r)}}function f(e,t,n){return(t=B(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,u,a=[],c=!0,s=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){s=!0,o=e}finally{try{if(!c&&null!=n.return&&(u=n.return(),Object(u)!==u))return}finally{if(s)throw o}}return a}}(e,t)||c(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e){return function(e){if(Array.isArray(e))return H(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||c(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(e,t){var n;if(e)return"string"==typeof e?H(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H(e,t):void 0}function H(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function h(e,t){var n,r,o,i,u="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(u)return r=!(n=!0),{s:function(){u=u.call(e)},n:function(){var e=u.next();return n=e.done,e},e:function(e){r=!0,o=e},f:function(){try{n||null==u.return||u.return()}finally{if(r)throw o}}};if(Array.isArray(e)||(u=c(e))||t&&e&&"number"==typeof e.length)return u&&(e=u),i=0,{s:t=function(){},n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:t};throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function B(e){e=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);if("object"!=typeof(n=n.call(e,t||"default")))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==typeof e?e:String(e)}String.prototype.padStart||(String.prototype.padStart=function(e,t){return e>>=0,t=String(void 0!==t?t:" "),this.length>e?String(this):((e-=this.length)>t.length&&(t+=t.repeat(e/t.length)),t.slice(0,e)+String(this))}),String.prototype.padEnd||(String.prototype.padEnd=function(e,t){return e>>=0,t=String(void 0!==t?t:""),this.length>e?String(this):((e-=this.length)>t.length&&(t+=t.repeat(e/t.length)),String(this)+t.slice(0,e))});function g(e){return Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}var R=function(e){return"number"==typeof e&&-1<e&&e%1==0&&e<=9007199254740991},p=function t(n,r){var e,o;return n===r||(n instanceof Date&&r instanceof Date?n.getTime()===r.getTime():!n||!r||"object"!==a(n)&&"object"!==a(r)?n===r:n.prototype===r.prototype&&(e=Object.keys(n)).length===Object.keys(r).length&&(o=function(e){return Object.prototype.toString.call(e).slice(8,-1)},Array.isArray(n)&&Array.isArray(r)&&n.length===r.length||"Object"==o(n)&&"Object"==o(r))&&e.every(function(e){return t(n[e],r[e])}))};function y(e,t){return g(e)===t}function v(e,t){return void 0===t?e:Number(Math.round(e+"e"+(t||0))+"e-"+(t||0))}function $(e,n,t){return Array.isArray(e)?e.length?e.reduce(function(e,t){return $(e,t,n)},0):0:o(0,e,n,t)}function q(n,r){var e=[];if(r)e=n.reduce(function(e,t){return e.map(function(e){return e[r]}).includes(t[r])?e:[].concat(u(e),[t])},[]);else for(var t=0,o=n.length;t<o;t++)!function(t){0!=t&&e.some(function(e){return p(e,n[t])})||e.push(n[t])}(t);return e}function z(e){return Z(e)}function W(e,t){for(var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"id",r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"children",o=4<arguments.length?arguments[4]:void 0,i=0,u=e.length;i<u;i++){var a=e[i];if(o.push(a),a[n]===t)return o;if(a[r]&&a[r].length)if(W(a[r],t,n,r="children",o))return o;o.pop()}}var J={isEmpty:function(e){if(null!=e){if(null!=(t=e)&&"function"!=typeof t&&R(t.length))try{return!e.length}catch(e){}var t,n,r;if(["map","set"].includes(Object.prototype.toString.call(e).slice(8,-1).toLowerCase()))return!e.size;if(t=e,n=Object.prototype,r=t&&t.constructor,t===("function"==typeof r&&r.prototype||n))return!Object.keys(e).length;var o,i=Object.prototype.hasOwnProperty;for(o in e)if(i.call(e,o))return!1}return!0},isEquals:p,isArray:function(e){return Array.isArray(e)},isBoolean:function(e){return"boolean"==typeof e},isDate:function(e){return"date"===g(e)},isFunction:function(e){return"function"==typeof e},isNull:function(e){return null===e},isNumber:function(e){return"number"==typeof e},isObject:function(e){return"object"===g(e)},isRegExp:function(e){return"regexp"===g(e)},isString:function(e){return"string"==typeof e},isType:y,isUndefined:function(e){return void 0===e},getType:g,type:function(e,t){e=Object.prototype.toString.call(e).slice(8,-1).toLowerCase();return t?t===e:e}},o=function(e,t,n,r){try{o=t.toString().split(".")[1].length}catch(e){o=0}try{i=n.toString().split(".")[1].length}catch(e){i=0}var o=Math.pow(10,Math.max(o,i)),i=[v((Math.round(o*t)+Math.round(o*n))/o,r),v((Math.round(o*t)-Math.round(o*n))/o,r),v(Math.round(o*t)*Math.round(o*n)/(o*o),r),v(Math.round(o*t)/Math.round(o*n),r)],t=String(v(i[e],r||0));return r?t.includes(".")?t.split(".")[0]+"."+t.split(".")[1].padEnd(r,0):(t+".").padEnd((t+".").length+r,0):i[e]},Z=function(e){var i=[],u=[];return function e(t){if(null===t)return null;if("object"!==a(t))return t;y(t,"array")?n=[]:y(t,"regexp")?(n=new t.constructor(t.source,/\w*$/.exec(t)),t.lastIndex&&(n.lastIndex=t.lastIndex)):n=y(t,"date")?new Date(t.getTime()):(o=Object.getPrototypeOf(t),Object.create(o));var n,r,o=i.indexOf(t);if(-1!==o)return u[o];for(r in i.push(t),u.push(n),t)n[r]=e(t[r]);return n}(e)};function U(e,t){for(var n in t)e.setAttribute(n,t[n]);return e}var G={union:function(t,e,n){return t.concat(e.filter(function(e){return n?!t.map(function(e){return e[n]}).includes(e[n]):!t.includes(e)}))},intersection:function(e,t,n){return e.filter(function(e){return n?t.map(function(e){return e[n]}).includes(e[n]):t.includes(e)})},archive:function(n,r){return Array.from(new Set(n.map(function(e){return e[r]}))).reduce(function(e,t){return e.push(n.filter(function(e){return e[r]===t})),e},[])},arrayFill:function(e,t){return Array(e).fill(t)},arrayToObject:function(e){return Array.from(e.entries()).reduce(function(e,t){return e[t[0]]=t[1],e},{})},arrayToTree:function t(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:null,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"pid";return n.filter(function(e){return e[o]===r}).map(function(e){return s(s({},e),{},{children:t(n,e.id,o)})})},delBy:function(e,t){for(var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2]?e:JSON.parse(JSON.stringify(e)),r=n.length-1;0<=r;r--)if("function"==typeof t)t(n[r])&&n.splice(r,1);else if(Array.isArray(t))-1<t.indexOf(n[r])&&n.splice(r,1);else if(n[r]===t)n.splice(r,1);else if("Object"===Object.prototype.toString.call(t).slice(8,-1)){var o,i=n[r];for(o in t)Array.isArray(t[o])?-1<t[o].indexOf(i[o])&&n.splice(r,1):t[o]===i[o]&&n.splice(r,1)}return n},except:function(e,n,r){return[].concat(u(e),u(n)).filter(function(t){return![e,n].every(function(e){return r?e.map(function(e){return e[r]}).includes(t[r]):e.includes(t)})})},exchangePostion:function(e,t,n){e=3<arguments.length&&void 0!==arguments[3]&&arguments[3]?e:JSON.parse(JSON.stringify(e));return e.splice(t,1,e.splice(n,1,e[t])[0]),e},flatten:function n(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:1;return e.reduce(function(e,t){return e.concat(1<r&&Array.isArray(t)?n(t,r-1):t)},[])},group:function(r,o){return u(Array(Math.ceil(r.length/o)).keys()).reduce(function(e,t,n){return[].concat(u(e),[r.slice(n*o,(n+1)*o)])},[])},indexOfAll:function(e,r,o){return"function"==typeof r?e.reduce(function(e,t,n){return r(t)&&e.push(n),e},[]):e.reduce(function(e,t,n){return(o?t[r]===o:t===r)?[].concat(u(e),[n]):e},[])},insetPostion:function(e,t,n){e=3<arguments.length&&void 0!==arguments[3]&&arguments[3]?e:JSON.parse(JSON.stringify(e));return e.splice(n,0,e.splice(t,1)[0]),e},isRepeat:function(t,n){var r=t.length;try{for(var e=0;e<r;e++)for(var o=e+1;o<r;o++)if(p(t[e],t[o]))return!n||{repeatIndex:e,repeatItem:t[e],isRepeat:!0};return!!n&&{repeatIndex:-1,repeatItem:null,isRepeat:!1}}catch(e){return n?{repeatIndex:-1,repeatItem:null,isRepeat:r!==q(t).length}:r!==q(t).length}},mean:function(e,t){return(t?e.map("function"==typeof t?t:function(e){return e[t]}):e).reduce(function(e,t){return e+ +t},0)/e.length},range:function(n,e){return Array.from({length:e-n+1},function(e,t){return t+n})},rangeRandom:function(){var n=0<arguments.length&&void 0!==arguments[0]?arguments[0]:0,e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:1;if(!(3<arguments.length&&void 0!==arguments[3])||arguments[3])return Array.from({length:t},function(){return Math.floor(Math.random()*(e-n+1))+n});for(var r=Array.from({length:e-n+1},function(e,t){return t+n}),o=t>r.length?r.length:t,i=[];i.length!=o;){var u=r[Math.floor(Math.random()*r.length)];i.includes(u)||i.push(u)}return i},rangeScopeStartZore:function(e){return u(Object.keys(e).keys())},rangeStep:function(n,e,r){return Array.from({length:(e-n)/r+1},function(e,t){return n+t*r})},sample:function(e){return e[Math.floor(Math.random()*e.length)]},sum:function(e,n){var r="function"==typeof n;return e.reduce(function(e,t){return $(e,r?n(t):n?t[n]||0:t)},0)},timesTotal:function(e,n,r){return e.reduce(function(e,t){return(r?t[n]===r:t===n)?e+1:e},0)},unique:q,make:function(e,n,r){return e.reduce(function(e,t){return[].concat(u(e),[f({},t[n],t[r])])},[])},pick:function(e,t){return e.reduce(function(e,n){return[].concat(u(e),[t.reduce(function(e,t){return s(s({},e),{},f({},t,n[t]))},{})])},[])},treeToArray:function n(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"children";return(Array.isArray(e)?e:[e]).reduce(function(e,t){return[].concat(u(e),[t],u(n(t[r]||[])))},[])},queryNode:function(e,t){var o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"id",i=3<arguments.length&&void 0!==arguments[3]?arguments[3]:"children",u=null;return function e(t,n){for(var r=0;r<t.length;r++){if(t[r][o]===n){u=t[r];break}t[r][i]&&t[r][i].length&&e(t[r][i],n)}}(e,t),u},getTreeNode:function e(t,n){for(var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"id",o=0,i=t.length;o<i;o++){var u=t[o];if(u[r]===n)return u;if(u.children&&u.children.length){u=e(u.children,n,r);if(u)return u}}},arrayGroup:function(e,t){if(1===e.length)return e;for(var n=[],r=0,o=1,i=e.length;o<i;o++){var u=e[o-1],a=e[o];u[t]!==a[t]&&(u=o,n.push(e.slice(r,u)),r=o),o===i-1&&n.push(e.slice(r))}return n},arrayAt:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return t<0?e[e.length+t]:e[t]},arrayRepeat:function(e){for(var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0,n=0,r=e;n<t;)r=r.concat(e),n++;return r},arraySubstr:function(e,t,n){return e.slice(t,t+n)},delByIndexs:function(e,t){2<arguments.length&&void 0!==arguments[2]&&!arguments[2]||(e=JSON.Parse(JSON.stringify(e))),t=t.sort(function(e,t){return t-e});for(var n=0;n<t.length;n++)e.splice(t[n],1);return e},findIndexs:function(e,t){for(var n=[],r=0;r<e.length;r++)t(e[r])&&n.push(r);return n},groupArchive:function(n,r){return u(new Set(n.map(function(e){return e[r]}))).reduce(function(e,t){return[].concat(u(e),[n.filter(function(e){return e[r]===t})])},[])},groupState:function(e,t){for(var n,r=[],o=0,i=1,u=e.length;i<u;i++)e[i-1][t]!==e[i][t]&&(n=i,r.push(e.slice(o,n)),o=i),i===u-1&&r.push(e.slice(o));return r},lastFind:function(e,t){for(var n=e.length-1;0<=n;n--)if(t(e[n]))return e[n]},lastFindIndex:function(e,t){for(var n=e.length-1;0<=n;n--)if(t(e[n]))return n;return-1},rangeGenerater:function(n,e){return Array.from({length:e-n+1},function(e,t){return t+n})},arrayRestore:function(e,t,n){return(e=3<arguments.length&&void 0!==arguments[3]&&arguments[3]?e:z(e)).splice(t,0,e.splice(n,1)[0]),e},getTreePath:function(e,t,n){for(var r=n.idAlias,o=void 0===r?"id":r,r=n.nameAlias,i=void 0===r?"name":r,r=n.children,u=void 0===r?"children":r,a=!(3<arguments.length&&void 0!==arguments[3])||arguments[3],c=0,s=e.length;c<s;c++){var l=e[c],f=[];if(l[o]===t)return a?[l[i]]:[l];if(l[u]&&l[u].length&&(W(l[u],t,o,u,f),f.length))return f.unshift(l),a?f.map(function(e){return e[i]}):f}return[]},queryTreeNode:function(e,t,n){for(var r=n.idAlias,o=void 0===r?"id":r,r=n.children,i=void 0===r?"children":r,u=(e=z(e),Array.isArray(e)?e:[e]);u.length;){var a=u.shift();if(a[o]===t)return a;a[i]&&a[i].length&&a[i].forEach(function(e){u.push(e)})}},queryTreePath:function e(t,n){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:[];if(t){var o,i=h(t=Array.isArray(t)?t:[t]);try{for(i.s();!(o=i.n()).done;){var u=o.value;if(r.push(u),n(u))return r;if(u.children&&u.children.length){var a=e(u.children,n,r);if(a.length)return a}r.pop()}}catch(e){i.e(e)}finally{i.f()}}return[]},uniqueByKeys:function(e,r){return e.reduce(function(e,n,t){return t&&e.find(function(t){return r.every(function(e){return t[e]===n[e]})})||e.push(n),e},[])},getRepeat:function(){return(0<arguments.length&&void 0!==arguments[0]?arguments[0]:[]).reduce(function(t,n,e,r){n=Object.keys(n).sort().reduce(function(e,t){return e[t]=n[t],e},{});var o=JSON.stringify(n);return t.countMap[o]?t.countMap[o]++:t.countMap[o]=1,e===r.length-1&&(Object.keys(t.countMap).forEach(function(e){return t[1<t.countMap[e]?"repeatArr":"notRepeatArr"].push(JSON.parse(e))}),delete t.countMap),t},{repeatArr:[],notRepeatArr:[],countMap:{}})}};function K(e){return"symbol"!=a(e)&&!isNaN(parseFloat(e))&&isFinite(e)}var Q={bindEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},bufferAnimation:function(t,n){var r,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"left";(t="string"==typeof t?document.querySelector(t):t)&&(r="left"===o?"offsetLeft":"offsetTop",clearInterval(t.timer),t.timer=setInterval(function(){var e=Math.ceil((n-t[r])/10);t[r]==n?clearInterval(t.timer):t.style["left"===o?"left":"top"]=t[r]+e+"px"},30))},constantAnimation:function(e,t){var n,r,o=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"left";(e="string"==typeof e?document.querySelector(e):e)&&(n="left"===o?"offsetLeft":"offsetTop",clearInterval(e.timer),r=t>e[n]?5:-5,e.timer=setInterval(function(){e[n]==t?clearInterval(e.timer):e.style[o]=e[n]+r+"px"},30))},debounce:function(r,o,i){var u,e=function(){var e,t=arguments,n=this;u&&clearTimeout(u),i?(e=!u,u=setTimeout(function(){u=null},o),e&&r.apply(n,t)):u=setTimeout(function(){r.apply(n,t)},o)};return e.cancel=function(){u&&clearTimeout(u),u=e=null},e},fromData:function(n){var e=Object.keys(n).reduce(function(e,t){return!e.append(t,n[t])&&e},new FormData);return e.check=function(){return n},e},getStyle:function(e,t){return(e="string"==typeof e?document.querySelector(e):e)?f({left:e.offsetLeft,top:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight},t,(e.currentStyle||getComputedStyle(e))[t])[t]:null},hide:function(e){Array.from(document.querySelectorAll(e)).forEach(function(e){return e.style.display="none"})},isEllipsis:function(e){try{return(e="string"==typeof e?document.querySelector(e):e)&&(e.scrollHeight!==e.offsetHeight||e.scrollWidth!==e.offsetWidth)}catch(e){}},throttle:function(r,o,i){var u,a=0,e=(i=i||{},function(){var e=this,t=arguments,n=(new Date).valueOf();!1===i.leading&&(a=a||n),o<n-a?(u&&(clearTimeout(u),u=null),r.apply(e,t),a=n):u||!1===i.trailing||(u=setTimeout(function(){a=(new Date).valueOf(),u=null,r.apply(e,t)},o))});return e.cancel=function(){u&&clearTimeout(u),e=u=void 0,a=0},e},trigger:function(e,t){var n=document.createEvent("Events");n.initEvent(t,!0,!0),t in e&&(e[t](),!["blur","scroll","select"].includes(t))||e.dispatchEvent(n)},unbindEvent:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},getAttr:function(e,t){try{return(e="string"==typeof e?document.querySelector(e):e).getAttribute(t)}catch(e){return{}}},setAttr:U,getMaxZIndex:function(){var e=document.querySelectorAll("*");return Math.max.apply(Math,u(u(e).map(function(e){return parseInt(getComputedStyle(e).zIndex)||1})))},bottomVisible:function(){return document.documentElement.clientHeight+window.scrollY>=(document.documentElement.scrollHeight||document.documentElement.clientHeight)},scrollToTop:function e(){var t=document.documentElement.scrollTop||document.body.scrollTop;0<t&&(window.requestAnimationFrame(e),window.scrollTo(0,t-t/8))},smoothScroll:function(e,t){try{var n=null;"string"==typeof e?n=void 0===t?document.querySelector(e):(n=document.querySelectorAll(e),t=-1===t?n.length-1:t,n&&n[t]):e instanceof Element?n=e:e instanceof NodeList&&(n=e[void 0===t?e.length-1:t]),n&&n.scrollIntoView({behavior:"smooth"})}catch(e){}},getScrollPosition:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window;return{x:void 0!==e.pageXOffset?e.pageXOffset:e.scrollLeft,y:void 0!==e.pageYOffset?e.pageYOffset:e.scrollTop}},backTop:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,n=document.getElementById(e),r=document.documentElement,o=document.body;function i(){n.style.display=r.scrollTop+o.scrollTop>t?"block":"none"}window.onscroll=i,n.style.display="none",n.onclick=function(){n.style.display="none",window.onscroll=null,this.timer=setInterval(function(){r.scrollTop-=Math.ceil(.1*(r.scrollTop+o.scrollTop)),o.scrollTop-=Math.ceil(.1*(r.scrollTop+o.scrollTop)),r.scrollTop+o.scrollTop==0&&clearInterval(n.timer,window.onscroll=i)},10)}},contains:function(e,t){e="string"==typeof e?document.querySelector(e):e,t="string"==typeof t?document.querySelector(t):t;return!(!e||!t)&&e.contains(t)},getScrollXY:function(){return document.body.scrollTop?{x:document.body.scrollLeft,y:document.body.scrollTop}:{x:document.documentElement.scrollLeft,y:document.documentElement.scrollTop}},dynamicAddCss:function(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return new Promise(function(e){var t=document.createElement("link");t.setAttribute("href",r+n+".css"),t.setAttribute("type","text/css"),t.onload=function(){return e(t)},document.getElementsByTagName("head")[0].appendChild(t)})},dynamicAddScript:function(t){return new Promise(function(e){t.forEach(function(e){var t=document.createElement("script");t.setAttribute("src",e),document.body.appendChild(t)}),window.onload=function(){return e()}})},createElement:function(e,t){if(e)return e=document.createElement(e),"object"===g(t)?U(e,t):e},isScrollBottom:function(e,t){return!!(e="string"==typeof e?document.querySelector(e):e)&&(e=e.scrollHeight-e.scrollTop-e.clientHeight,t?e<t:0==e)},isScrollerVisible:function(e,t,n){return e="string"==typeof e?document.querySelector(e):e,t="string"==typeof t?e.querySelector(t):t,0<=(t=(n="string"==typeof n?t.querySelector(n):n).getBoundingClientRect().top-t.offsetTop)&&t<=e.offsetHeight-n.offsetHeight},getElementByClassName:function(e,t){if(e.classList.contains(t))return e;for(var n=e.parentNode;;){if(!n.classList)return null;if(n.classList.contains(t))return n;n=n.parentNode}},selectRangeByElement:function(e,n){("string"==typeof e?document.querySelector(e):e).onmouseup=function(e){var e=e.srcElement||e.target,t=null==document.selection?document.getSelection().toString():document.selection.createRange().text;t.length&&n(t,e)}},selectTextByElement:function(e){var t,n,e="string"==typeof e?document.querySelector(e):e;document.body.createTextRange?((t=document.body.createTextRange()).moveToElementText(e),t.select()):window.getSelection&&(t=window.getSelection(),(n=document.createRange()).selectNodeContents(e),t.removeAllRanges(),t.addRange(n))},getScrollDirection:function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window,n=(t=t===window?window:"string"==typeof t?document.querySelector(t):t)===window?t.scrollX:t.scrollLeft,r=t===window?t.scrollY:t.scrollTop;if(void 0===(t=t===window?e:t).oldScrollLeft&&void 0===t.oldScrollTop&&r&&n)return t.oldScrollLeft=0,t.oldScrollTop=0,t.oldScrollLeft=n,t.oldScrollTop=r,{x:!0,y:!0};void 0===t.oldScrollLeft&&(t.oldScrollLeft=0),void 0===t.oldScrollTop&&(t.oldScrollTop=0);var o=t.oldScrollTop!==r;return t.oldScrollLeft=n,t.oldScrollTop=r,{x:!o,y:o}},getScrollerWidth:function(r){var e,t;return r?new Promise(function(t,e){var n=document.createElement("div");n.innerHTML="1",r.appendChild(n),setTimeout(function(){var e=r.offsetWidth-n.offsetWidth;r.removeChild(n),t(e)})}):((e=document.createElement("div")).style.cssText="width:50px;height:50px;overflow: scroll;",e.innerHTML="<div>1</div>",document.body.appendChild(e),t=50-e.querySelector("div").offsetWidth,document.body.removeChild(e),t)},copyText:function(e){var t=document.createElement("input");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},domWatch:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},r=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,n=s({attributes:!0,childList:!0,subtree:!0,once:!0},n),o=new r(function(){t.apply(void 0,arguments),n.once&&o.disconnect()});return e="string"==typeof e?document.querySelector(e):e,o.observe(e,n),o},addStyleCss:function(t,n){var r,e=u(document.styleSheets).find(function(e){return e.ownerNode.id===t});if(e){for(var o=0;o<n.length;o++)e.insertRule(n[o]);return e}return(r=document.createElement("style")).id="add_style_css_"+Date.now(),document.body.appendChild(r),r.onload=function(){for(var e=u(document.styleSheets).find(function(e){return e.ownerNode.id===r.id}),t=0;t<n.length;t++)e.insertRule(n[t])},r},getElementByTarget:function(e,t){if(!e)return null;if(e.classList.contains(t))return e;for(var n=e.parentNode;;){if(!n.classList)return null;if(n.classList.contains(t))return n;n=n.parentNode}},textAutoEllipsis:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"right",r=3<arguments.length?arguments[3]:void 0;if(e){var o=document.createElement("canvas").getContext("2d");if(o.font="normal ".concat(r?getComputedStyle(r,null)["font-size"]:"16px"," PingFang SC"),t<o.measureText(e).width){for(var i=0;i<e.length;i++)if(i){var u="right"===n?e.slice(0,i)+"...":"..."+e.slice(-i);if(t<o.measureText(u).width)return"right"===n?e.slice(0,i-1)+"...":"..."+e.slice(1-i)}return"right"===n?e.slice(0,e.length-1)+"...":"..."+e.slice(1-e.length)}}return e},resetInput:function(e){var t,n,r,o,i="string"==typeof e?document.querySelector(e):e||document.activeElement;"INPUT"!==i.tagName&&"TEXTAREA"!==i.tagName||(t=navigator.userAgent,n=/iPad|iPhone|iPod/.test(t)?t.includes("Safari/")||/OS 11_[0-3]\D/.test(t)?0:1:2,o=function(){0!=n&&(1==n?document.body.scrollTop=document.body.scrollHeight:i.scrollIntoView(!1))},i.addEventListener("focus",function(){setTimeout(o,300),r=setTimeout(o,1e3)}),i.addEventListener("blur",function(){clearTimeout(r),n&&/iPad|iPhone|iPod/.test(t)&&setTimeout(function(){document.body.scrollIntoView()})}))},cursor:function(e,t){if(e="string"==typeof e?document.querySelector(e):e,void 0===t)return e.selectionStart;e.focus(),t="first"===t?0:"last"===t?e.value.length:Number(t),"number"==typeof e.selectionStart&&"number"==typeof e.selectionEnd&&(e.selectionStart=e.selectionEnd=t)}};function V(e,t){var n,r,o;return Number.isInteger(Number(e))&&void 0===t||(e=Number(e).toFixed(8).replace(/0+$/,""),void 0===t)?e:(n=e.match(/\d+/)[0],r=(o=e.match(/\d+?$/)[0]).slice(0,t),o=Math.round(Number("1"+r+"."+o.slice(t))),0==(e="".concat(e.includes("-")?"-":"").concat(2==String(o)[0]?+n+1:n).concat(r?".":"").concat(r?String(o).slice(1).padStart(t,0):""))?e.replace("-",""):e)}function X(){return!!t.match(/Chrome/i)}function e(){return!!(t.match(/(iPhone|iPad|iPod)/i)||t.match(/Android/i)||t.match(/Windows Phone/i)||t.match(/IEMobile/i))}function ee(){return!(t.match(/(iPhone|iPad|iPod)/i)||t.match(/Android/i)||t.match(/Windows Phone/i)||t.match(/IEMobile/i))}function te(){return!!t.match(/(iPhone|iPad|iPod)/i)}function ne(){return!!t.match(/Android/i)}function re(){return n&&"wxwork"!=t.match(/wxwork/i)}function oe(){return n&&"wxwork"!=t.match(/wxwork/i)&&"Mobile"==t.match(/Mobile/i)}function ie(){return n&&"wxwork"!=t.match(/wxwork/i)&&"Mobile"!=t.match(/Mobile/i)}function ue(){return n&&"wxwork"==t.match(/wxwork/i)}function ae(){return n&&"wxwork"==t.match(/wxwork/i)&&"Mobile"==t.match(/Mobile/i)}function ce(){return n&&"wxwork"==t.match(/wxwork/i)&&"Mobile"!=t.match(/Mobile/i)&&!e()}function se(){return t.includes("Firefox")}function le(){return/Safari/.test(t)&&!/Chrome/.test(t)}function fe(){return/macintosh|mac os x/i.test(t)}function de(){return["win32","wow32","win64","wow64"].some(function(e){return t.toLowerCase().includes(e)})}function he(){return["win32","wow32"].some(function(e){return t.toLowerCase().includes(e)})}function ge(){return["win64","wow64"].some(function(e){return t.toLowerCase().includes(e)})}var pe={add:$,calc:o,devide:function n(e,r,t){return Array.isArray(e)?2<=e.length?e.reduce(function(e,t){return n(e,t,r)}):"":e&&r?o(3,e,r,t):0},fmtNum:function(e){var t,n,r=1<arguments.length&&void 0!==arguments[1]&&arguments[1],o=2<arguments.length?arguments[2]:void 0,i=3<arguments.length?arguments[3]:void 0;return void 0!==e&&null!=e&&K(e=e+"")?(n=!e.includes("."),t=0==(o=void 0===o?n?0:e.split(".")[1].length:o)?Math.round(e)+"":(n?e:v(+e+"",o)+"").split(".")[0],e=v(+e+"",o)+"",n=((n=0==o||n?"":e.split(".")[1])||"").padEnd(o,0),e=(r?t.replace(/(?=(?!\b)(\d{3})+$)/g,","):t)+(n.length?"."+n:""),i?Number(e):e):""},isNum:K,multiply:function n(e,r,t){return Array.isArray(e)?e.length?e.reduce(function(e,t){return n(e,t,r)},1):0:o(2,e,r,t)},round:v,subtract:function n(e,r,t){return Array.isArray(e)?e.length?e.reduce(function(e,t){return n(e,t,r)}):0:o(1,e,r,t)},isInteger:function(e){return"number"==typeof e&&!isNaN(e)&&e%1==0},sumBigNumber:function(e,t){var n="",r=0;for(e=e.split(""),t=t.split("");e.length||t.length||r;)n=(r+=~~e.pop()+~~t.pop())%10+n,r=9<r;return n.replace(/^0+/,"")},sumDecimalNumber:function(e,t){t+="";for(var n=(e+="").split(".")[0],r=t.split(".")[0],e=e.split(".")[1]||"0",t=t.split(".")[1]||"0",o=(e.length>t.length?e:t).length,i=e.padEnd(o,0),u=t.padEnd(o,0),a=Array(o).fill([]).map(function(e,t){return[+i[t]+ +u[t]]}).reverse(),c=0;c<a.length&&a.length-1!==c;c++)a[c]=a[c]%10,9<a[c]&&(a[c+1]=+a[c+1]+1);return e=+n+ +r+(9<a[a.length-1]?1:0),a[a.length-1]=a[a.length-1]%10,(a=~(t=(a=a.reverse()).findLastIndex(function(e){return e}))?a.slice(0,t+1):a).filter(Boolean).length?e+"."+a.join(""):e},subtractDecimalNumber:function e(t,n,r){t=Number(t).toFixed(8),n=Number(n).toFixed(8);var o=d(t.split("."),2),i=o[0],o=o[1],u=d(n.split("."),2),a=u[0],u=u[1],c=Math.abs(Number(o.replace(/^0+/,""))-Number(u.replace(/^0+/,""))),i=Math.abs(Number(i)-Number(a)),a=Number(t)>=Number(n),s=Number(o.replace(/^0+/,""))>=Number(u.replace(/^0+/,""));return V(a?s?i+((a=String(c).padStart(8,0).replace(/0+$/,""))?"."+a:""):i-1+((s=String(Number("1"+o)-Number(u)).padStart(8,0)).length?"."+String(s).replace(/0+$/,""):""):"-"+e(n,t),r)},rounded:V,moneyToChinese:function(e){var t,n,r,o=String(Math.round(100*e)),i="",u="零壹贰叁肆伍陆柒捌玖",a="万仟佰拾亿仟佰拾万仟佰拾元角分",c=o.length,s=0;if(15<c)return alert("超出计算范围"),"";if(0==e)i="零元整";else{-1!=o.indexOf("-")?(a=a.substr(a.length-c+1,c-1),c=(o=o.substr(1,c-1)).length,i="负"):a=a.substr(a.length-c,c);for(var l=0;l<c;l++)r=parseInt(o.substr(l,1),10),l!=c-3&&l!=c-7&&l!=c-11&&l!=c-15?0==r?(n=t="",s+=1):s=(n=(t=0!=r&&0!=s?"零"+u.substr(r,1):u.substr(r,1),a.substr(l,1)),0):(0!=r&&0!=s?(t="零"+u.substr(r,1),n=a.substr(l,1),s=0):0!=r&&0==s?(t=u.substr(r,1),n=a.substr(l,1),s=0):(n=0==r&&3<=s?t="":(t="",a.substr(l,1)),s+=1),l!=c-11&&l!=c-3||(n=a.substr(l,1))),i=i+t+n;0==r&&(i+="整")}return i}},t=window.navigator.userAgent,n="MicroMessenger"==t.match(/MicroMessenger/i),ye=(X.is=X(),e.is=e(),ee.is=ee(),te.is=te(),ne.is=ne(),re.is=re(),oe.is=oe(),ie.is=ie(),ue.is=ue(),ae.is=ae(),ce.is=ce(),se.is=se(),le.is=le(),fe.is=fe(),de.is=de(),he.is=he(),ge.is=ge(),{isChrome:X,isMobile:e,isPC:ee,isIos:te,isAndroid:ne,isWx:re,isWxMobile:oe,isWxPc:ie,isWxWork:ue,isWxWorkMobile:ae,isWxWorkPc:ce,isFirefox:se,isSafari:le,isMac:fe,isWindow:de,isWindow32:he,isWindow64:ge}),ve=function(){return Array.from(arguments).reduce(function(e,t){var n,r=e,o=t;for(n in o)r[n]=r[n]&&"[object Object]"===r[n].toString()?ve(r[n],o[n]):r[n]=o[n];return r},{})};function r(){return(65536*(1+Math.random())|0).toString(16).substring(1)}var me={merge:ve,clone:function(e){var t,n={};for(t in e)n[t]=e[t];return n},deepClone:z,findKey:function(e,t){for(var n in e)if("function"==typeof t&&t(e[n])||Array.isArray(t)&&e[n][t[0]]===t[1]||"string"==typeof t&&t in e[n]||p(e[n],t))return n},convertKey:function e(t,n,r){if(!["array","object"].includes(g(t)))throw new TypeError("The first argument should be either an object or an array！");if("[object Object]"!==Object.prototype.toString.call(n))throw new TypeError("The parameter keyMap should be an object!");var o=Array.isArray(t)?[]:{};if(t instanceof Object)for(var i in t){var u=Object.keys(n).includes(i)?n[i]:i;o[u]=t[i],r&&["array","object"].includes(g(t[i]))&&Object.keys(t[i]).length&&(o[u]=e(t[i],n,r))}return o},objectRebuild:function(n,r){return r?Array.isArray(r)?r.reduce(function(e,t){return e[t]=n[t],e},{}):Object.keys(n).reduce(function(e,t){return r[t]&&(e[r[t]]=n[t]),e},{}):n},pluckDeep:function(t){return function(e){try{return t.split(".").reduce(function(e,t){return e[t]},e)}catch(e){}}},paramFormat:function(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(n).reduce(function(e,t){return r.isEmptyZero&&0===n[t]||r.isEmptyObject&&"[object Object]"===Object.prototype.toString.call(n[t])&&!Object.keys(n[t]).length||r.isEmptyArray&&Array.isArray(n[t])&&!n[t].length||r.isNull&&null===n[t]||(void 0!==r.isEmptyString&&!0!==r.isEmptyString||""!==n[t])&&(e[t]=n[t]),e},{})},switchData:function(e){var r=void 0===(t=e.data)?null:t,o=void 0===(t=e.sortAlias)?"index":t,i=void 0===(t=e.typeAlias)?"type":t,t=void 0===(t=e.switchType)?"object":t,n=e.cb,u=void 0===n?null:n,a=void 0===(n=e.mapValueName)?"":n,c=void 0===(n=e.types)?[]:n;if(r)return Array.isArray(r)||"array"===t?r.filter(function(e){return!c.length||c.length&&c.includes(+e[i])}).reduce(function(e,t){return e[t[i]]="function"==typeof u?u(t):a?t[a]:t,e},{}):Object.keys(r).filter(function(e){return!c.length||c.length&&c.includes(+e)}).reduce(function(e,t){var n=s(s({},r[t]),{},f({},i,+t));return e[r[t][o]]="function"==typeof u?u(n):n,e},[]).filter(Boolean)},$$:function(e,n,t){return Array.isArray(e)&&"function"==typeof t&&(e=e.find(function(e){return t(e)})||{}),new Proxy(e,{get:function(e,t){return t.split(".").reduce(function(e,t){return(null==e?void 0:e[t])||n},e)}})}},be={"&":"&amp","<":"&lt",">":"&gt",'"':"&quot","'":"&#39"},we=/[&<>"']/g,De=RegExp(we.source);function Fe(e){for(var t=e.split(",")[0].split(":")[1].split(";")[0],n=window.atob(e.split(",")[1]),e=new ArrayBuffer(n.length),r=new Uint8Array(e),o=0,i=n.length;o<i;o++)r[o]=n.charCodeAt(o);return new Blob([r],{type:t})}function Ae(n){return new Promise(function(e){var t=new FileReader;t.readAsDataURL(n),t.onload=function(){e(this.result)}})}function Se(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"default",n=document.createElement("a");n.style="display: none",document.body.appendChild(n),n.download=t,n.href=e,document.createEvent?((t=document.createEvent("MouseEvents")).initEvent("click",!0,!1),n.dispatchEvent(t)):document.createEventObject?n.fireEvent("onclick"):"function"==typeof n.onclick&&n.onclick(),document.body.removeChild(n)}function m(e){return JSON.parse(x(e))}function b(e){return"string"==typeof e}function w(e){return"[object Object]"===Object.prototype.toString.call(e)}function xe(e){return"symbol"!=a(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Me(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Ee(t,e){if(b(t)){var n=null;try{n=m(t),"false"!==(n=w(n)||Array.isArray(n)?n:x(t))&&"true"!==n||(n=m(t))}catch(e){n=x(t)}return void 0===e||n?n:e}if(Array.isArray(t))return t.length?t.reduce(function(e,t){var n=null;if(b(t)&&Me(A,t)){try{n=m(t)}catch(e){n=x(t)}e[t]=n}return e},{}):void 0!==e?e:{}}function ke(e){return JSON.parse(Je(e))}function i(e){return"string"==typeof e}function Oe(t,e){if(i(t)){var n=null;try{n=ke(t)}catch(e){n=Je(t)}return void 0===e||n?n:e}if(Ke(t))return t.length?t.reduce(function(e,t){var n=null;if(i(t)){try{n=ke(t)}catch(e){n=Je(t)}n&&(e[t]=n)}return e},{}):void 0!==e?e:{}}function D(e,t,n){var r=String(e);return!r||r.length>=t?e:"".concat(Array(t+1-r.length).join(n)).concat(e)}function je(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Date;return(1<arguments.length&&void 0!==arguments[1]?arguments[1]:"星期")+["日","一","二","三","四","五","六"][j(e).getDay()]}function Te(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"d",t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Date,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"YYYY-MM-DD HH:mm:ss",r=new Date(t);switch(e="string"==typeof e&&1<e.length?e.toLowerCase():e){case"year":case"y":r.setMonth(0),r.setDate(1),r.setFullYear(r.getFullYear()+1),r.setDate(r.getDate()-1),r.setHours(23),r.setSeconds(59),r.setMinutes(59),r.setMilliseconds(999);break;case"month":case"M":r.setMonth(r.getMonth()+1),r.setDate(0),r.setHours(23),r.setSeconds(59),r.setMinutes(59),r.setMilliseconds(999);break;case"date":case"day":case"D":case"d":r.setHours(23),r.setSeconds(59),r.setMinutes(59),r.setMilliseconds(999);break;case"hour":case"h":r.setHours(0),r.setSeconds(59),r.setMinutes(59),r.setMilliseconds(999);break;case"minute":case"m":r.setMinutes(0),r.setMilliseconds(999);break;case"second":case"s":r.setHours(23),r.setSeconds(59),r.setMinutes(59),r.setMilliseconds(999);break;case"week":case"w":var o=0==(o=r.getDay())?7:o;r.setDate(r.getDate()+(7-o)),r.setHours(23),r.setSeconds(59),r.setMinutes(59),r.setMilliseconds(999);break;case"quarter":case"Q":o=Math.floor((r.getMonth()+3)/3);r.setMonth(3*o),r.setDate(1),r.setDate(0),r.setHours(23),r.setSeconds(59),r.setMinutes(59),r.setMilliseconds(999)}return T(r,n)}function Ne(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Date;return Te("M",new Date(e),"D")}function Ce(e,t){var n,r,o;return e=new Date(e),t=new Date(t),e.getDate()<t.getDate()?-Ce(t,e):(n=12*(t.getFullYear()-e.getFullYear())+(t.getMonth()-e.getMonth()),r=Ve(n,e),e=Ve(n+((o=t-r<0)?-1:1),e),+(-(n+(t-r)/(o?r-e:e-r))||0))}function Pe(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"millisecond",r=3<arguments.length?arguments[3]:void 0,o=new Date(e)-new Date(t),i=Ce(e,t);switch(n=1<n.length?n.toLowerCase():n){case"year":case"y":i/=12;break;case"month":case"M":break;case"day":case"d":i=o/864e5;break;case"hour":case"h":i=o/36e5;break;case"minute":case"m":i=o/6e4;break;case"second":case"s":i=o/1e3;break;case"millisecond":case"ms":i=o;break;case"week":case"w":i=o/6048e5;break;case"quarter":case"Q":i/=3;break;default:i=o}return r?i:(e=i)<0?Math.ceil(e)||0:Math.floor(e)}function _e(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new Date,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:O,o=new Date(n);switch(t="string"==typeof t&&1<t.length?t.toLowerCase():t){case"day":case"d":o.setDate(o.getDate()+e);break;case"week":case"w":o.setDate(o.getDate()+7*e);break;case"month":case"M":var i=o.getMonth()+e,u=o.getDate(),a=new Date(T(o,"YYYY/MM/01 HH:mm:ss"));a.setMonth(i),o.setMonth(i),i!==o.getMonth()&&(i=Math.min(Ne(a),u),(o=new Date(a)).setDate(i));break;case"quarter":case"Q":o.setMonth(o.getMonth()+3*e);break;case"year":case"y":o.setFullYear(o.getFullYear()+e);break;case"hour":case"h":o.setHours(o.getHours()+e);break;case"minute":case"m":o.setMinutes(o.getMinutes()+e);break;case"second":case"s":o.setSeconds(o.getSeconds()+e);break;case"millisecond":case"ms":o.setMilliseconds(o.getMilliseconds()+e)}return T(o,r)}function Le(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new Date;return _e(-e,t,n,3<arguments.length&&void 0!==arguments[3]?arguments[3]:O)}function F(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new Date,r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:O,o=0===t||t,n=new Date(n);return o?(8===e?(o=n.getDay(),n.setDate(n.getDate()-((0===o?7:o)-t))):6===e?n.setMonth(t-1):n[1==e?"setMilliseconds":2==e?"setSeconds":3==e?"setMinutes":4==e?"setHours":5==e?"setDate":"setFullYear"](t),T(n,r)):n[1==e?"getMilliseconds":2==e?"getSeconds":3==e?"getMinutes":4==e?"getHours":5==e?"getDate":6==e?"getMonth":7==e?"getFullYear":"getDay"]()}function Ye(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Date;return new Date(T(t,"YYYY/MM/DD HH:mm:ss"))<new Date(T(e,"YYYY/MM/DD HH:mm:ss"))}function Ie(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Date;return+new Date(e)!=+new Date(t)&&!Ye(e,t)}var He={guid:function(){return r()+r()+"-"+r()+"-"+r()+"-"+r()+"-"+r()+r()+r()},camelCase:function(e){return e.match(/[a-zA-Z]+/g).reduce(function(e,t){return e+=(t=t.toLowerCase()).replace(t[0],t[0].toUpperCase())},"")},escape:function(e){return e&&De.test(e)?e.replace(we,function(e){return be[e]}):e},randomHexColorCode:function(){return"#"+(1048575*Math.random()*1e6).toString(16).slice(0,6)},stringAt:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:0;return t<0?e[e.length+t]:e[t]},filterFace:function(e){return e=(e=(e=e.replace(/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|\ud83c[\ude32-\ude3a]|\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g,"")).replace(/\uD83C[\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F]/g,"")).replace(/[\uE000-\uF8FF]/g,"")}},Be={isNoWord:function(e){return/^[^A-Za-z]*$/g.test(e)},isCHNAndEN:function(e){return/^((?:[\u3400-\u4DB5\u4E00-\u9FEA\uFA0E\uFA0F\uFA11\uFA13\uFA14\uFA1F\uFA21\uFA23\uFA24\uFA27-\uFA29]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0])|(\d))+$/g.test(e)},isPostcode:function(e){return/^(0[1-7]|1[0-356]|2[0-7]|3[0-6]|4[0-7]|5[1-7]|6[1-7]|7[0-5]|8[013-6])\d{4}$/g.test(e)},isWeChatNum:function(e){return/^[a-zA-Z][-_a-zA-Z0-9]{5,19}$/g.test(e)},isColor16:function(e){return/^#?([a-fA-F0-9]{6}|[a-fA-F0-9]{3})$/g.test(e)},isTrainNum:function(e){return/^[GCDZTSPKXLY1-9]\d{1,4}$/g.test(e)},isHttpAndPort:function(e){return/^((ht|f)tps?:\/\/)?[\w-]+(\.[\w-]+)+:\d{1,5}\/?$/g.test(e)},isRightWebsite:function(e){return/^(((ht|f)tps?):\/\/)?[\w-]+(\.[\w-]+)+([\w.,@?^=%&:/~+#-]*[\w@?^=%&/~+#-])?$/g.test(e)},isCreditCode:function(e){return/^[0-9A-HJ-NPQRTUWXY]{2}\d{6}[0-9A-HJ-NPQRTUWXY]{10}$/g.test(e)},isVersion:function(e){return/^\d+(?:\.\d+){2}$/g.test(e)},isImageUrl:function(e){return/^https?:\/\/(.+\/)+.+(\.(gif|png|jpg|jpeg|webp|svg|psd|bmp|tif))$/i.test(e)},isChineseName:function(e){return/^(?:[\u4e00-\u9fa5·]{2,16})$/g.test(e)},isEnglishName:function(e){return/(^[a-zA-Z]{1}[a-zA-Z\s]{0,20}[a-zA-Z]{1}$)/g.test(e)},isLicensePlateNumberNER:function(e){return/[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领 A-Z]{1}[A-HJ-NP-Z]{1}(([0-9]{5}[DF])|([DF][A-HJ-NP-Z0-9][0-9]{4}))$/g.test(e)},isLicensePlateNumberNNER:function(e){return/^[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领 A-Z]{1}[A-HJ-NP-Z]{1}[A-Z0-9]{4}[A-Z0-9挂学警港澳]{1}$/g.test(e)},isLicensePlateNumber:function(e){return/^(?:[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领 A-Z]{1}[A-HJ-NP-Z]{1}(?:(?:[0-9]{5}[DF])|(?:[DF](?:[A-HJ-NP-Z0-9])[0-9]{4})))|(?:[京津沪渝冀豫云辽黑湘皖鲁新苏浙赣鄂桂甘晋蒙陕吉闽贵粤青藏川宁琼使领 A-Z]{1}[A-Z]{1}[A-HJ-NP-Z0-9]{4}[A-HJ-NP-Z0-9 挂学警港澳]{1})$/g.test(e)},isMPStrict:function(e){return/^(?:(?:\+|00)86)?1(?:(?:3[\d])|(?:4[5-7|9])|(?:5[0-3|5-9])|(?:6[5-7])|(?:7[0-8])|(?:8[\d])|(?:9[1|8|9]))\d{8}$/g.test(e)},isMPRelaxed:function(e){return/^(?:(?:\+|00)86)?1[3-9]\d{9}$/g.test(e)},isEmail:function(e){return/^((([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+(\.([a-z]|\d|[!#\$%&'\*\+\-\/=\?\^_`{\|}~]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])+)*)|((\x22)((((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(([\x01-\x08\x0b\x0c\x0e-\x1f\x7f]|\x21|[\x23-\x5b]|[\x5d-\x7e]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(\\([\x01-\x09\x0b\x0c\x0d-\x7f]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]))))*(((\x20|\x09)*(\x0d\x0a))?(\x20|\x09)+)?(\x22)))@((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))$/i.test(e)},isLandlineTelephone:function(e){return/\d{3}-\d{8}|\d{4}-\d{7}/g.test(e)},isPassport:function(e){return/(^[EeKkGgDdSsPpHh]\d{8}$)|(^(([Ee][a-fA-F])|([DdSsPp][Ee])|([Kk][Jj])|([Mm][Aa])|(1[45]))\d{7}$)/g.test(e)},isChineseCharacter:function(e){return/^(?:[\u3400-\u4DB5\u4E00-\u9FEA\uFA0E\uFA0F\uFA11\uFA13\uFA14\uFA1F\uFA21\uFA23\uFA24\uFA27-\uFA29]|[\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879][\uDC00-\uDFFF]|\uD869[\uDC00-\uDED6\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF34\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0])+$/g.test(e)},isDecimal:function(e){return/^\d+\.\d+$/g.test(e)},isInteger:function(e){return"number"==typeof e&&!isNaN(e)&&e%1==0},isNumberStr:function(e){return/^\d{1,}$/g.test(e)},isQQNum:function(e){return/^[1-9][0-9]{4,10}$/g.test(e)},isNumAndStr:function(e){return/^[A-Za-z0-9]+$/g.test(e)},isEnglish:function(e){return/^[a-zA-Z]+$/g.test(e)},isCapital:function(e){return/^[A-Z]+$/g.test(e)},isLowercase:function(e){return/^[a-z]+$/g.test(e)},isNumEnglishChinese:function(e){return/^[0-9a-zA-Z\u4e00-\u9fa5]+$/g.test(e)},isContactNumber:function(e){return/^((\d{3,4}-\d{7,8})|(((13[0-9])|(14[5-9])|(16[5-6])|(15[0-3,5-9])|(17[0-8])|(18[0-9])|(19[1,8-9]))\d{8}))$/.test(e)},isContainFace:function(t){return[/(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff]|[\u0023-\u0039]\ufe0f?\u20e3|\u3299|\u3297|\u303d|\u3030|\u24c2|\ud83c[\udd70-\udd71]|\ud83c[\udd7e-\udd7f]|\ud83c\udd8e|\ud83c[\udd91-\udd9a]|\ud83c[\udde6-\uddff]|\ud83c[\ude01-\ude02]|\ud83c\ude1a|\ud83c\ude2f|\ud83c[\ude32-\ude3a]|\ud83c[\ude50-\ude51]|\u203c|\u2049|[\u25aa-\u25ab]|\u25b6|\u25c0|[\u25fb-\u25fe]|\u00a9|\u00ae|\u2122|\u2139|\ud83c\udc04|[\u2600-\u26FF]|\u2b05|\u2b06|\u2b07|\u2b1b|\u2b1c|\u2b50|\u2b55|\u231a|\u231b|\u2328|\u23cf|[\u23e9-\u23f3]|[\u23f8-\u23fa]|\ud83c\udccf|\u2934|\u2935|[\u2190-\u21ff])/g,/\uD83C[\uDF00-\uDFFF]|\uD83D[\uDC00-\uDE4F]/g,/[\uE000-\uF8FF]/g].some(function(e){return e.test(t)})}},Re={getQuery:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window.location.href;try{return e.includes("?")?e.split("?")[1].match(/([^&=]*)=([^&]*)/g).reduce(function(e,t){return e[t.split("=")[0]]=decodeURIComponent(t.split("=")[1]),e},{}):{}}catch(e){return{}}},urlSerialize:function(n){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(r).reduce(function(e,t){return e+((e===n?"?":"&")+"".concat(t,"=").concat(encodeURIComponent(r[t])))},n)},urlTmtFmt:function(e){var r=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},n=/\{(\w+)\}/g.test(e)?e.replace(/\{(\w+)\}/g,function(e,t){var n=r[t];return delete r[t],n}):e;return Object.keys(r).length?Object.keys(r).reduce(function(e,t){return e+((e===n?"?":"&")+"".concat(t,"=").concat(r[t]))},n):n}},$e={bytesFormat:function(e){var t;return 0===e?"0 B":e?(t=Math.floor(Math.log(e)/Math.log(1024)),(e/Math.pow(1024,t)).toFixed(2)+" "+["B","KB","MB","GB","TB","PB","EB","ZB","YB"][t]):""},base64ToBlob:Fe,base64ToFile:function(e,t){for(var e=e.split(","),n=e[0].match(/:(.*?);/)[1],r=atob(e[1]),o=r.length,i=new Uint8Array(o);o--;)i[o]=r.charCodeAt(o);return new File([i],t,{type:n})},blobToBase64:function(n){return new Promise(function(t){var e=new FileReader;e.onload=function(e){t(e.target.result)},e.readAsDataURL(n)})},blobToFile:function(e,t){return new File([e],t,{type:e.type,lastModified:Date.now()})},fileToBase64:Ae,fileToBlob:function(e){return Ae(e).then(Fe)},downloadByBase64:Se,downloadByImgLink:function(r,o,i,u){return new Promise(function(n,t){var e=new Image;e.src=r,e.crossOrigin="anonymous",e.onload=function(){i=i||this.width,u=u||this.height;var e=document.createElement("canvas"),t=e.getContext("2d"),t=(e.setAttribute("width",i),e.setAttribute("height",u),t.drawImage(this,0,0,i,u),e.toDataURL("image/png",.95));Se(t,o),n(t)},e.onerror=function(e){return t(e)}})},downloadByImgSelector:function(e,i){return new Promise(function(r,t){var o=new Image;o.setAttribute("crossOrigin","anonymous"),o.onload=function(){var e=document.createElement("canvas");e.width=o.width,e.height=o.height;e.getContext("2d").drawImage(o,0,0,e.width,e.height);var e=e.toDataURL("image/png"),t=document.createElement("a"),n=new MouseEvent("click");t.download=i||"defaultName",t.href=e,t.dispatchEvent(n),r()},o.onerror=function(e){return t(e)},o.src=("string"==typeof e?document.querySelector(e):e).src})},bufferFileDownload:function(e,t){var e=new Blob([e],{type:"charset=utf-8"}),n=document.createElement("a"),e=window.URL.createObjectURL(e),t=(n.href=e,n.download=t,document.getElementsByTagName("body")[0]);t.appendChild(n),n.click(),t.removeChild(n),window.URL.revokeObjectURL(e)}},A=localStorage,qe=A.setItem.bind(A),x=A.getItem.bind(A),M=A.removeItem.bind(A),ze=JSON.stringify,We={set:function(e,t){if(b(e))qe(e,b(t)?t:ze(t));else if(w(e))for(var n in e)qe(n,b(e[n])?e[n]:ze(e[n]))},get:Ee,del:function(e){if(b(e))M(e);else if(Array.isArray(e))for(var t=0,n=e.length;t<n;t++){var r=e[t];b(r)&&M(r)}},each:function(e){for(var t=Object.keys(localStorage),n=0,r=t.length;n<r;n++){var o=t[n];e(o,m(o))}},getOnce:function(e,t){t=Ee(e,t);if("string"==typeof e)Me(A,e)&&M(e);else if(Array.isArray(e)&&e.length)for(var n=0;n<e.length;n++)Me(A,e[n])&&M(e[n]);return t},setExpired:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];function r(e,t,n){qe(e,ze({startTime:a,expiredTime:n,value:t}))}var o=t[0],i=t[1],u=t[2],a=+new Date;if(1==t.length){if(w(o))for(var c in o)r(c,o[c],0)}else if(2==t.length){if(b(o))r(o,0,i);else if(w(o)&&xe(i))for(var s in o)r(s,o[s],Number(i))}else 3==t.length&&b(o)&&xe(u)&&r(o,i,Number(u))},getExpired:function(e){var t;if(b(e))return(t=m(e))&&"startTime"in t?new Date-t.startTime>t.expiredTime?(M(e),!1):t.value:null;for(var n={},r=0;r<e.length;r++){var o,i=e[r];b(i)&&(o=m(i))&&"startTime"in o&&(new Date-o.startTime>o.expiredTime?M(e):n[i]=o.value)}return n},clearAll:function(){A.clear()},clearAllExpired:function(){for(var e=Object.keys(A),t=e.length,n=0;n<t;n++){var r=m(e[n]);r&&"expiredTime"in r&&M(e[n])}}},E=sessionStorage,Je=E.getItem.bind(E),Ze=E.setItem.bind(E),Ue=E.removeItem.bind(E),Ge=(E.clear.bind(E),JSON.stringify),Ke=Array.isArray,Qe={get:Oe,set:function(e,t){if(i(e))Ze(e,Ge(t));else if(Ke(e))for(var n=0;n<e.length;n++){var r=e[n];if("[object Object]"===Object.prototype.toString.call(r))for(var o in r)Ze(o,i(r[o])?r[o]:Ge(r[o]))}},del:function(e){if(i(e))Ue(e);else if(Array.isArray(e))for(var t=0,n=e.length;t<n;t++){var r=e[t];i(r)&&Ue(r)}},clearAll:function(){E.clear()},each:function(e){for(var t=Object.keys(sessionStorage),n=0;n<t.length;n++)e(t[n],Oe(t[n]))}},k=function(e){return"string"==typeof e&&e.includes("-")&&!e.includes("T")?e.replace(/-/g,"/"):e},O="YYYY-MM-DD HH:mm:ss",j=function(e){return e?new Date(k(e)):new Date},T=function(){try{for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:O,n=d(e,2),r=n[0],n=n[1],e=e.length,o=new Date;return 1==e?isNaN(new Date(k(r)).valueOf())?t=r:o=new Date(k(r)):2==e&&(o=new Date(k(r)),t=n),{dt:o,ft:t}}(t,O),o=r.dt,i=r.ft,u={Y:String(o.getFullYear()),M:D(o.getMonth()+1,2,0),D:D(o.getDate(),2,0),H:D(o.getHours(),2,0),m:D(o.getMinutes(),2,0),s:D(o.getSeconds(),2,0),S:D(o.getMilliseconds(),3,0)+"",Q:Math.floor((o.getMonth()+3)/3)+""};return i.replace(/\[([^\]]+)]|y{1,4}|Y{1,4}|M{1,2}|d{1,2}|D{1,2}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|q|t|w|W|S{1,3}/g,function(e){var t=e[0],n=e.length;switch(t){case"y":case"Y":return e.replace(new RegExp("(("+t+")+)","g"),function(e){return u.Y.substr(4-e.length)});case"M":return 1==n?Number(u.M):u.M;case"D":case"d":return 1==n?Number(u.D):u.D;case"H":case"h":return 1==n?Number(u.H):u.H;case"m":return 1==n?Number(u.m):u.m;case"s":return 1==n?Number(u.s):u.s;case"S":return e.replace(new RegExp("(("+t+")+)","g"),function(e){return u.S.substr(3-e.length)});case"[":return e.replace(/\[|\]/g,"");case"q":return u.Q;case"W":return je(o,"周");case"w":return je(o);default:return e}})}catch(e){return console.log(e),new Date("")}},Ve=function(e,t){t=new Date(t);return t.setMonth(t.getMonth()+ +e),t},Xe=Object.freeze({__proto__:null,add:_e,subtract:Le,startOf:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Date,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"YYYY-MM-dd HH:mm:ss",r=new Date(t);switch(e="string"==typeof e&&1<e.length?e.toLowerCase():e){case"year":case"y":r.setMonth(0),r.setDate(1),r.setHours(0),r.setSeconds(0),r.setMinutes(0),r.setMilliseconds(0);break;case"month":case"M":r.setDate(1),r.setHours(0),r.setSeconds(0),r.setMinutes(0),r.setMilliseconds(0);break;case"date":case"day":case"D":case"d":r.setHours(0),r.setSeconds(0),r.setMinutes(0),r.setMilliseconds(0);break;case"hour":case"h":r.setSeconds(0),r.setMinutes(0),r.setMilliseconds(0);break;case"minute":case"m":r.setMinutes(0),r.setMilliseconds(0);break;case"second":case"s":r.setMilliseconds(0);break;case"week":case"w":var o=0==(o=r.getDay())?7:o;r.setDate(r.getDate()-(o-1)),r.setHours(0),r.setSeconds(0),r.setMinutes(0),r.setMilliseconds(0);break;case"quarter":case"Q":o=Math.floor((r.getMonth()+3)/3);r.setMonth(3*o-3),r.setDate(1),r.setHours(0),r.setSeconds(0),r.setMinutes(0),r.setMilliseconds(0)}return T(r,n)},endOf:Te}),et=Object.freeze({__proto__:null,year:function(e,t,n){return F(7,e,t,n)},month:function(e,t,n){return F(6,e,t,n)},date:function(e,t,n){return F(5,e,t,n)},hour:function(e,t,n){return F(4,e,t,n)},minute:function(e,t,n){return F(3,e,t,n)},second:function(e,t,n){return F(2,e,t,n)},millisecond:function(e,t,n){return F(1,e,t,n)},day:function(e,t,n){return F(8,e,t,n)},quarter:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Date,n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:O,t=new Date(t),r=Math.floor((t.getMonth()+3)/3);return arguments.length?(e===r||t.setMonth(t.getMonth()+3*e-3*r),T(t,n)):r},get:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Date,n=new Date(t);switch(e){case"date":case"D":return n.getDate();case"day":case"d":return n.getDay();case"month":case"M":return n.getMonth();case"year":case"y":return n.getFullYear();case"hour":case"h":return n.getHours();case"minute":case"m":return n.getMinutes();case"second":case"s":return n.getSeconds();case"millisecond":case"ms":return n.getMinutes()}},set:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new Date,r=new Date(n);switch(e="string"==typeof e&&1<e.length?e.toLowerCase():e){case"date":case"D":r.setDate(t);break;case"day":case"d":var o=r.getDay();r.setDate(r.getDate()-((0===o?7:o)-t));break;case"month":case"M":r.setMonth(t);break;case"year":case"y":r.setFullYear(t);break;case"hour":case"h":r.setHours(t);break;case"minute":case"m":r.setMinutes(t);break;case"second":case"s":r.setSeconds(t);break;case"millisecond":case"ms":r.setMilliseconds(t)}return T(r)},max:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=t[0],o=1;o<t.length;o++)new Date(t[o])>new Date(r)&&(r=t[o]);return r},min:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=t[0],o=1;o<t.length;o++)new Date(t[o])<new Date(r)&&(r=t[o]);return r}}),tt=Object.freeze({__proto__:null,toArray:function(e){e=j(e);return[e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()]},toObject:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Date,e=j(e);return{year:e.getFullYear(),month:e.getMonth(),date:e.getDate(),hour:e.getHours(),minute:e.getMinutes(),second:e.getSeconds(),millisecond:e.getMilliseconds()}}}),nt=Object.freeze({__proto__:null,isAfter:Ie,isBefore:Ye,isBetween:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new Date;return e=new Date(T(e,"YYYY/MM/DD HH:mm:ss")),t=new Date(T(t,"YYYY/MM/DD HH:mm:ss")),e<=(n=new Date(T(n,"YYYY/MM/DD HH:mm:ss")))&&n<=t},isDate:function(e){var t;return!!arguments.length&&null!=(e=e.match(/^(\d{1,4})(-|\/)(\d{1,2})\2(\d{1,2})$/))&&(t=new Date(e[1],e[3]-1,e[4])).getFullYear()==e[1]&&t.getMonth()+1==e[3]&&t.getDate()==e[4]},isDateTime:function(e){var t;return!!arguments.length&&null!=(e=e.match(/^(\d{4})(-|\/)(\d{1,2})\2(\d{1,2}) (\d{1,2}):(\d{1,2}):(\d{1,2})$/))&&(t=new Date(e[1],e[3]-1,e[4],e[5],e[6],e[7])).getFullYear()==e[1]&&t.getMonth()+1==e[3]&&t.getDate()==e[4]&&t.getHours()==e[5]&&t.getMinutes()==e[6]&&t.getSeconds()==e[7]},isLeapYear:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Date,e=new Date(e).getFullYear();return e%4==0&&e%100!=0||e%400==0},isSame:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"",n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:new Date,e=new Date(e),n=new Date(n),t=["y","year"].includes(t)?"getFullYear":["M","month"].includes(t)?"getMonth":["D","date"].includes(t)?"getDate":["h","hour"].includes(t)?"getHours":["m","minute"].includes(t)?"getMinutes":["s","second"].includes(t)?"getSeconds":["d","day"].includes(t)?"getDay":["ms","milliseconds"].includes(t)?"getMilliseconds":"";return t?e[t]()===n[t]():+e==+n},isSameOrAfter:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Date;return Ie(e,t)||+new Date(j(e))==+new Date(j(t))},isSameOrBefore:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:new Date;return Ye(e,t)||+new Date(j(e))==+new Date(j(t))},isThisYear:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Date;return T(e,"YYYY")===T(new Date,"YYYY")},isTime:function(e){return!!arguments.length&&null!=(e=e.match(/^(\d{1,2})(:)?(\d{1,2})\2(\d{1,2})$/))&&!(24<=e[1]||60<=e[3]||60<=e[4])},isToday:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Date;return["getFullYear","getMonth","getDate"].every(function(e){return(new Date)[e]()===new Date("string"==typeof t&&t.includes("-")?t.replace(/-/g,"/"):t)[e]()})},isTomorrow:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Date,t="YYYY/MM/DD";return(e=new Date(e)).setDate(e.getDate()-1),T(e,t)===T(new Date,t)},isValid:function(e){return"Invalid Date"!==new Date(e).toString()},isYesterday:function(e){var t="YYYY/MM/DD",n=Le(1,"day",new Date,t);return T(new Date(n),t)===T(new Date(e),t)}}),rt=Object.freeze({__proto__:null,getWeek:je,getMonth:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:new Date,t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"月";return["一","二","三","四","五","六","七","八","九","十","十一","十二"][j(e).getMonth()]+t},previewMonth:function(e,t){return 0<e&&e<13?["一","二","三","四","五","六","七","八","九","十","十一","十二"][e-1]+"月":void 0===t?"Invalid month":t},previewWeek:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"周",n=2<arguments.length?arguments[2]:void 0;return 0<(e=0===e?7:e)&&e<8?t+["一","二","三","四","五","六","日"][e-1]:void 0===n?"Invalid week":n},fromNow:function(t){function e(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:"month";return Pe(new Date,t,e)}var n=Pe(new Date,t,"second",!0);return n<60?"几秒前":parseInt(n/60)<60?parseInt(n/60)+"分钟前":parseInt(n/60)<1440?parseInt(n/3600)+"小时前":e()?e()<12?e()+"个月前":parseInt(e()/12)+"年前":e("day")+"天前"}}),Xe=s(s(s(s(s(s({},Object.freeze({__proto__:null,daysInMonth:Ne,diff:Pe,format:T})),Xe),et),tt),nt),rt);function ot(){return(ot=l(S().mark(function e(t){var n,r,o,i,u=arguments;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=u.length,r=new Array(1<n?n-1:0),o=1;o<n;o++)r[o-1]=u[o];return e.prev=1,e.next=4,t.apply(void 0,r);case 4:return i=e.sent,e.abrupt("return",{err:null,res:i,args:r});case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",{err:e.t0,res:null,args:r});case 11:case"end":return e.stop()}},e,null,[[1,8]])}))).apply(this,arguments)}function it(e){return!!e&&"object"===a(e)}function N(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:[null,void 0],n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{isSwitch:!1};if(Array.isArray(e))return e.map(function(e){return N(e,t,n)});if(it(e))for(var r in e)it(e[r])?e[r]=N(e[r]):t.includes(e[r])&&(n.isSwitch?e[r]=n.valid||"":delete e[r]);return e}var C={_events:{},count:0,on:function(e,t){this._events[e]?this._events[e].push(t):this._events[e]=[t]},emit:function(e){for(var t=arguments.length,n=new Array(1<t?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];null!=(e=this._events[e])&&e.forEach(function(e){return e.apply(void 0,n)})},off:function(e){this._events[e]&&delete this._events[e]}};function ut(){return(ut=l(S().mark(function e(r,o){var t;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem(o))return e.abrupt("return",Promise.resolve(t));e.next=5;break;case 5:return e.abrupt("return",new Promise(function(){var t=l(S().mark(function e(t){var n;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(C.count){e.next=11;break}return C.count=1,e.next=4,r();case 4:n=e.sent,localStorage.setItem(o,n),t(n),C.emit("ok",n),C.off("ok"),e.next=13;break;case 11:C.count++,C.on("ok",function(e){C.count=0,t(e)});case 13:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}()));case 6:case"end":return e.stop()}},e)}))).apply(this,arguments)}et={map:new Map,waitMap:new Map,has:function(e){return this.map.has(e)},get:function(e){return this.map.get(e)},set:function(e,t){this.map.set(e,t)},delete:function(e){this.map.delete(e)},wait:function(e,t,n){var r=this.waitMap.get(e)||[];r.push({resolve:t,reject:n}),this.waitMap.set(e,r)},dispatchWait:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]&&arguments[2];if(this.waitMap.has(e))for(var r=this.waitMap.get(e),o=0;o<r.length;o++){var i=r[o];n?i.reject(t):i.resolve(t)}},getResult:function(n,e){var r=this,t=2<arguments.length&&void 0!==arguments[2]&&arguments[2],o="".concat(n,"TaskName"),i="".concat(n,"TaskErrName");return this.has(n)||this.has(o)?new Promise(function(e,t){r.has(n)?e(r.get(n)):r.has(i)?t(r.get(i)):r.wait(n,e,t)}):(this.set(o,!0),e().then(function(e){return r.set(n,e),r.dispatchWait(n,e),e}).catch(function(e){throw r.set(i,e),r.dispatchWait(n,e,!0),e}).finally(function(){r.delete(o),t||setTimeout(function(){r.delete(n),r.delete(i)},1e3)}))},clear:function(){this.map.clear()}};function at(){return(at=l(S().mark(function e(t,n){var r,o,i,u,a;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(Array.isArray(t)){e.next=2;break}throw new Error("asyncFns must be an array of async functions");case 2:r=h(t),e.prev=3,r.s();case 5:if((u=r.n()).done)e.next=11;else{if("function"!=typeof u.value)throw new Error("Each element in asyncFns must be a function");e.next=9}break;case 9:e.next=5;break;case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),r.e(e.t0);case 16:return e.prev=16,r.f(),e.finish(16);case 19:o=n,i=h(t),e.prev=21,i.s();case 23:if((u=i.n()).done){e.next=37;break}return a=u.value,e.prev=25,e.next=28,a(o);case 28:o=e.sent,e.next=35;break;case 31:throw e.prev=31,e.t1=e.catch(25),console.error("An error occurred:",e.t1),e.t1;case 35:e.next=23;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(21),i.e(e.t2);case 42:return e.prev=42,i.f(),e.finish(42);case 45:return e.abrupt("return",o);case 46:case"end":return e.stop()}},e,null,[[3,13,16,19],[21,39,42,45],[25,31]])}))).apply(this,arguments)}var tt=Object.freeze({__proto__:null,simplify:function(e,t,n){var r=Object.keys(e).find(function(e){return JSON.parse(e).includes(t)});return"string"==typeof e[r]?e[r]:"function"==typeof e[r]?e[r]():!e[r]&&n&&"string"==typeof n?n:!e[r]&&n&&"function"==typeof n?n():void 0},caputured:function(e){return ot.apply(this,arguments)},faultTolerant:function(e,t){try{e&&e()}catch(e){t&&t(e)}},multipleNestedHandler:function(e,n){(e=e.find(function(e){var t=d(e,1)[0];return Object.keys(n.methods).every(function(e){return n.methods[e](n.state[e])===t[e]})&&n.cb&&n.cb(t)}))?e[1]():n.other&&n.other()},nestedHandler:function(e,t,n){(e=e.find(t))?e[1]():n&&n()},simplifyFunc:function(e,t,n){var r,o=Object.keys(e);if(o.length)return r=o.findIndex(function(e){return JSON.stringify(JSON.parse(e))===JSON.stringify(t)}),"string"==typeof(e=e[o[r]])?e:"function"==typeof e?e():e||"string"!=typeof n?e||"function"!=typeof n?void 0:n():n;throw Error("不接受空对象")},bfs:function e(t,n){for(var r=Array.isArray(t)?u(t):[t],o=n.children||"children";r.length;){var i=r.shift();n.cb?n.cb(i,e):n&&n(i,e),i&&i[o]&&i[o].length&&i[o].forEach(function(e){return r.push(e)})}},asyncDataFormat:function(c,s){return new Promise(function(){var t=l(S().mark(function e(t){var n,r,o,i,u,a;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!Array.isArray(c)){e.next=29;break}n="string"==typeof s?[s]:s,r=h(c),e.prev=3,r.s();case 5:if((o=r.n()).done){e.next=18;break}o=o.value,i=0;case 8:if(i<n.length){if(o[n[i]])return e.next=12,o[n[i]];e.next=13}else e.next=16;break;case 12:o[n[i]]=e.sent;case 13:i++,e.next=8;break;case 16:e.next=5;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(3),r.e(e.t0);case 23:return e.prev=23,r.f(),e.finish(23);case 26:t(c),e.next=50;break;case 29:if("[object Object]"!==Object.prototype.toString.call(c)){e.next=50;break}u=h("string"==typeof s?[s]:s),e.prev=32,u.s();case 34:if((a=u.n()).done){e.next=41;break}return a=a.value,e.next=38,c[a];case 38:c[a]=e.sent;case 39:e.next=34;break;case 41:e.next=46;break;case 43:e.prev=43,e.t1=e.catch(32),u.e(e.t1);case 46:return e.prev=46,u.f(),e.finish(46);case 49:t(c);case 50:case"end":return e.stop()}},e,null,[[3,20,23,26],[32,43,46,49]])}));return function(e){return t.apply(this,arguments)}}())},compose:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return t.reduce(function(e,t){return t(e)},e)}},asyncCheck:function(){var i=0<arguments.length&&void 0!==arguments[0]?arguments[0]:[],u=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},a=2<arguments.length?arguments[2]:void 0;return function(e){for(var t=null,n=0;n<i.length;n++){var r=i[n];if("function"==typeof r){var o=r(u);if(o){t=o;break}}else if(r){t=r;break}}t?a&&a(t):e&&e()}},allKeysFilterValid:N,combinFliter:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};return Object.keys(t).flatMap(function(e){return t[e](n)?[e]:[]})},checkArrayRepeat:function(c){var e=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{},t=e.isDelInvalidProp,s=void 0!==t&&t,l=void 0===(t=e.InvalidPropArr)?[]:t,f=void 0===(t=e.excludeProp)?[]:t,d=2<arguments.length?arguments[2]:void 0;return function(e){if(!c.length)return new Error("数组不能为空");s&&l.length&&N(c,l);for(var t=c.map(function(t){return f.forEach(function(e){delete t[e]}),t}),n=-1,r=-1,o=!1,i=null,u=0;u<t.length&&!o;u++)for(var a=u+1;a<t.length;a++)if(p(t[u],t[a])){r=a,i=c[n=u],o=!0;break}i?d({repeatItem:i,fistIndex:n,relativeIndex:r}):e()}},repeatOnce:function(e,t){return ut.apply(this,arguments)},asyncSameSource:et,asyncCompose:function(e,t){return at.apply(this,arguments)},propxyObjectGenerator:function(e,u){var t=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},n=t.attempts,a=void 0===n?3:n,c=void 0===(n=t.delay)?1e3:n;return new Proxy(e,{get:function(r,o,i){return function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return u(o).then(function(e){return Reflect.get(r,o,i).apply(void 0,n.concat([e]))}).catch(function(){var t=l(S().mark(function e(t){return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((u.count||0)<a)return u.count=(u.count||0)+1,e.abrupt("return",new Promise(function(e){setTimeout(function(){e(i[o].apply(i,n))},c)}));e.next=5;break;case 5:return e.abrupt("return",Promise.reject(t));case 6:case"end":return e.stop()}},e)}));return function(e){return t.apply(this,arguments)}}())}}})}}),nt=new(function(){function e(){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");this._p=JSON.parse,this._s=JSON.stringify,this._set=localStorage.setItem.bind(localStorage),this._get=localStorage.getItem.bind(localStorage),this._del=localStorage.removeItem.bind(localStorage)}var t,n,r;return t=e,(n=[{key:"_parse",value:function(e){return this._p(this._get(e))}},{key:"isObject",value:function(e){return"object"===Object.prototype.toString.call(e).slice(8,-1).toLowerCase()}},{key:"HAS",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:localStorage;return Object.prototype.hasOwnProperty.call(t,e)}},{key:"_e",value:function(e,t,n){this._set(e,this._s({startTime:+new Date,expiredTime:n,value:t,STOREFLAG:!0}))}},{key:"set",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.length;if(r){var o=t[0],i=t[1],u=t[2];if(this.isObject(o)){if(Object.keys(o).length)for(var a in o)2<=r&&void 0!==i?this._e(a,o[a],i):this.set(a,o[a])}else 1!==r&&(3<=r&&void 0!==u?this._e(o,i,u):this._set(o,this.isObject(i)||Array.isArray(i)?this._s(i):i))}}},{key:"get",value:function(){for(var r=this,e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length){var o=t.length,i=t[0],u=t[1],a=Array.isArray(i),c=this.isObject(u),s=c&&this.HAS("default",u),l=c&&this.HAS("expired",u);if(a){if(!i.length)return 2<=o?u:{};for(var f={},d=0;d<i.length;d++){var h=i[d];this.HAS(h)&&(f[h]=this.get(h))}return Object.keys(f).length?2<=o&&l&&!0===u.expired?Object.keys(f).reduce(function(e,t){var n=r.getExpired(t);return n&&(e[t]=r.isObject(f[t])&&r.HAS("STOREFLAG",f[t])?n:f[t]),e},{}):f:2<=o&&s?u.default:2<=o&&!c?u:{}}var a=null,g=this._get(i);try{a=/^[+-]?\d+(\.\d+)?$/.test(g)?g:this._parse(i)}catch(e){a=g}return 1===o?this.isObject(a)||Array(a)||"boolean"==typeof a?a:g:c?null===a?s?u.default:a:l&&!0===u.expired&&this.isObject(a)&&this.HAS("STOREFLAG",a)?this.getExpired(i):a:null===a?u:a}}},{key:"del",value:function(e){if("string"==typeof e)this._del(e);else if(Array.isArray(e))for(var t=0,n=e.length;t<n;t++){var r=e[t];"string"==typeof r&&this._del(r)}}},{key:"clear",value:function(e){if(e)for(var t=Object.keys(localStorage),n=t.length,r=0;r<n;r++)this.getExpired(t[r]);else localStorage.clear()}},{key:"getExpired",value:function(e){var t=this._parse(e);return this.isObject(t)&&this.HAS("STOREFLAG",t)?new Date-t.startTime>t.expiredTime?(this._del(e),null):t.value:null}},{key:"each",value:function(e){for(var t=Object.keys(localStorage),n=0,r=t.length;n<r;n++){var o=t[n];e(o,this._parse(o))}}},{key:"once",value:function(e,t){t=this._get(e,t);if("string"==typeof e&&this.HAS(e))this._del(e);else if(Array.isArray(e)&&e.length)for(var n=0;n<e.length;n++)this.HAS(e[n])&&this._del(e[n]);return t}}])&&I(t.prototype,n),r&&I(t,r),Object.defineProperty(t,"prototype",{writable:!1}),e}()),ct={dbName:"zztx_crm",storeName:"store_crm",version:1,keyPath:"key"};function st(){return window.indexedDB||window.mozIndexedDB||window.webkitIndexedDB}function lt(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:ct,t=e.dbName,r=void 0===t?"zztx_crm":t,t=e.storeName,o=void 0===t?"store_crm":t,t=e.version,i=void 0===t?1:t,t=e.keyPath,u=void 0===t?"key":t;return new Promise(function(t,n){var e=st().open(r,i);e.onsuccess=function(e){return t(e.target.result)},e.onerror=function(e){return n(e)},e.onupgradeneeded=function(e){e=e.target.result;e.objectStoreNames.contains(o)||e.createObjectStore(o,{keyPath:u})}})}function ft(e){st().deleteDatabase(e)}function P(r,o,i,u){return new Promise(function(t,n){var e=o.transaction(i,"readwrite").objectStore(i)[r](u);e.onsuccess=function(e){return t(e.target.result,e)},e.onerror=function(e){return n(e)}})}var dt={dbName:"__crmIdxDBStorage",storeName:"__crmDBstore"};function _(){return ht.apply(this,arguments)}function ht(){return(ht=l(S().mark(function e(r,o,i){var u,a,c;return S().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return u=dt.dbName,a=dt.storeName,e.next=3,lt({dbName:u,storeName:a});case 3:return c=e.sent,e.abrupt("return",new Promise(function(t,n){gt[{set:"putData",get:"getData",del:"delData",clear:"clearData"}[r]](c,a,"set"===r?{key:o,val:i}:o).then(function(e){t("get"===r?null==e?void 0:e.val:e),"clear"===r&&o&&ft(u)},function(e){n(e)})}));case 5:case"end":return e.stop()}},e)}))).apply(this,arguments)}var gt={openIdxDB:lt,addData:function(){return P.apply(void 0,["add"].concat(Array.prototype.slice.call(arguments)))},delData:function(){return P.apply(void 0,["delete"].concat(Array.prototype.slice.call(arguments)))},getData:function(){return P.apply(void 0,["get"].concat(Array.prototype.slice.call(arguments)))},putData:function(){return P.apply(void 0,["put"].concat(Array.prototype.slice.call(arguments)))},clearData:function(){return P.apply(void 0,["clear"].concat(Array.prototype.slice.call(arguments)))},getAllKeys:function(){return P.apply(void 0,["getAllKeys"].concat(Array.prototype.slice.call(arguments)))},getAllData:function(){return P.apply(void 0,["getAll"].concat(Array.prototype.slice.call(arguments)))},delDB:ft},rt={idxDB:gt,idxDBStorage:{set:function(e,t){return _("set",e,t)},get:function(e){return _("get",e)},del:function(e){return _("del",e)},clear:function(e){return _("clear",e)}}};return s(s(s(s(s(s(s(s(s(s(s(s({},J),G),Q),pe),ye),me),He),Re),$e),tt),rt),{},{local:We,session:Qe,reg:Be,date:Xe,version:"1.0.98",build_date:"2024/1/29 下午1:56:59",storage:nt})});
