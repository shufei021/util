!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).dom=t()}(this,function(){"use strict";function i(t,e){var n,o=Object.keys(t);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(t),e&&(n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})),o.push.apply(o,n)),o}function l(e,t,n){return(t=function(e){e=function(e,t){if("object"!=typeof e||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0===n)return("string"===t?String:Number)(e);n=n.call(e,t||"default");if("object"!=typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}(e,"string");return"symbol"==typeof e?e:String(e)}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){var n;if(e)return"string"==typeof e?o(e,t):"Map"===(n="Object"===(n=Object.prototype.toString.call(e).slice(8,-1))&&e.constructor?e.constructor.name:n)||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(e,t):void 0}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,o=new Array(t);n<t;n++)o[n]=e[n];return o}function n(e,t){for(var n in t)e.setAttribute(n,t[n]);return e}return{bindEvent:function(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)},bufferAnimation:function(t,n){var o,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"left";(t="string"==typeof t?document.querySelector(t):t)&&(o="left"===r?"offsetLeft":"offsetTop",clearInterval(t.timer),t.timer=setInterval(function(){var e=Math.ceil((n-t[o])/10);t[o]==n?clearInterval(t.timer):t.style["left"===r?"left":"top"]=t[o]+e+"px"},30))},constantAnimation:function(e,t){var n,o,r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"left";(e="string"==typeof e?document.querySelector(e):e)&&(n="left"===r?"offsetLeft":"offsetTop",clearInterval(e.timer),o=t>e[n]?5:-5,e.timer=setInterval(function(){e[n]==t?clearInterval(e.timer):e.style[r]=e[n]+o+"px"},30))},debounce:function(o,r,i){var l,e=function(){var e,t=arguments,n=this;l&&clearTimeout(l),i?(e=!l,l=setTimeout(function(){l=null},r),e&&o.apply(n,t)):l=setTimeout(function(){o.apply(n,t)},r)};return e.cancel=function(){l&&clearTimeout(l),l=e=null},e},fromData:function(n){var e=Object.keys(n).reduce(function(e,t){return!e.append(t,n[t])&&e},new FormData);return e.check=function(){return n},e},getStyle:function(e,t){return(e="string"==typeof e?document.querySelector(e):e)?l({left:e.offsetLeft,top:e.offsetTop,width:e.offsetWidth,height:e.offsetHeight},t,(e.currentStyle||getComputedStyle(e))[t])[t]:null},hide:function(e){Array.from(document.querySelectorAll(e)).forEach(function(e){return e.style.display="none"})},isEllipsis:function(e){try{return(e="string"==typeof e?document.querySelector(e):e)&&(e.scrollHeight!==e.offsetHeight||e.scrollWidth!==e.offsetWidth)}catch(e){}},throttle:function(o,r,i){var l,c=0,e=(i=i||{},function(){var e=this,t=arguments,n=(new Date).valueOf();!1===i.leading&&(c=c||n),r<n-c?(l&&(clearTimeout(l),l=null),o.apply(e,t),c=n):l||!1===i.trailing||(l=setTimeout(function(){c=(new Date).valueOf(),l=null,o.apply(e,t)},r))});return e.cancel=function(){l&&clearTimeout(l),e=l=void 0,c=0},e},trigger:function(e,t){var n=document.createEvent("Events");n.initEvent(t,!0,!0),t in e&&(e[t](),!["blur","scroll","select"].includes(t))||e.dispatchEvent(n)},unbindEvent:function(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)},getAttr:function(e,t){try{return(e="string"==typeof e?document.querySelector(e):e).getAttribute(t)}catch(e){return{}}},setAttr:n,getMaxZIndex:function(){var e=document.querySelectorAll("*");return Math.max.apply(Math,c(c(e).map(function(e){return parseInt(getComputedStyle(e).zIndex)||1})))},bottomVisible:function(){return document.documentElement.clientHeight+window.scrollY>=(document.documentElement.scrollHeight||document.documentElement.clientHeight)},scrollToTop:function e(){var t=document.documentElement.scrollTop||document.body.scrollTop;0<t&&(window.requestAnimationFrame(e),window.scrollTo(0,t-t/8))},smoothScroll:function(e,t){try{var n=null;"string"==typeof e?n=void 0===t?document.querySelector(e):(n=document.querySelectorAll(e),t=-1===t?n.length-1:t,n&&n[t]):e instanceof Element?n=e:e instanceof NodeList&&(n=e[void 0===t?e.length-1:t]),n&&n.scrollIntoView({behavior:"smooth"})}catch(e){}},getScrollPosition:function(){var e=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window;return{x:void 0!==e.pageXOffset?e.pageXOffset:e.scrollLeft,y:void 0!==e.pageYOffset?e.pageYOffset:e.scrollTop}},backTop:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:100,n=document.getElementById(e),o=document.documentElement,r=document.body;function i(){n.style.display=o.scrollTop+r.scrollTop>t?"block":"none"}window.onscroll=i,n.style.display="none",n.onclick=function(){n.style.display="none",window.onscroll=null,this.timer=setInterval(function(){o.scrollTop-=Math.ceil(.1*(o.scrollTop+r.scrollTop)),r.scrollTop-=Math.ceil(.1*(o.scrollTop+r.scrollTop)),o.scrollTop+r.scrollTop==0&&clearInterval(n.timer,window.onscroll=i)},10)}},contains:function(e,t){e="string"==typeof e?document.querySelector(e):e,t="string"==typeof t?document.querySelector(t):t;return!(!e||!t)&&e.contains(t)},getScrollXY:function(){return document.body.scrollTop?{x:document.body.scrollLeft,y:document.body.scrollTop}:{x:document.documentElement.scrollLeft,y:document.documentElement.scrollTop}},dynamicAddCss:function(n){var o=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";return new Promise(function(e){var t=document.createElement("link");t.setAttribute("href",o+n+".css"),t.setAttribute("type","text/css"),t.onload=function(){return e(t)},document.getElementsByTagName("head")[0].appendChild(t)})},dynamicAddScript:function(t){return new Promise(function(e){t.forEach(function(e){var t=document.createElement("script");t.setAttribute("src",e),document.body.appendChild(t)}),window.onload=function(){return e()}})},createElement:function(e,t){if(e)return e=document.createElement(e),"object"===Object.prototype.toString.call(t).slice(8,-1).toLowerCase()?n(e,t):e},isScrollBottom:function(e,t){return!!(e="string"==typeof e?document.querySelector(e):e)&&(e=e.scrollHeight-e.scrollTop-e.clientHeight,t?e<t:0==e)},isScrollerVisible:function(e,t,n){return e="string"==typeof e?document.querySelector(e):e,t="string"==typeof t?e.querySelector(t):t,0<=(t=(n="string"==typeof n?t.querySelector(n):n).getBoundingClientRect().top-t.offsetTop)&&t<=e.offsetHeight-n.offsetHeight},getElementByClassName:function(e,t){if(e.classList.contains(t))return e;for(var n=e.parentNode;;){if(!n.classList)return null;if(n.classList.contains(t))return n;n=n.parentNode}},selectRangeByElement:function(e,n){("string"==typeof e?document.querySelector(e):e).onmouseup=function(e){var e=e.srcElement||e.target,t=null==document.selection?document.getSelection().toString():document.selection.createRange().text;t.length&&n(t,e)}},selectTextByElement:function(e){var t,n,e="string"==typeof e?document.querySelector(e):e;document.body.createTextRange?((t=document.body.createTextRange()).moveToElementText(e),t.select()):window.getSelection&&(t=window.getSelection(),(n=document.createRange()).selectNodeContents(e),t.removeAllRanges(),t.addRange(n))},getScrollDirection:function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:window,n=(t=t===window?window:"string"==typeof t?document.querySelector(t):t)===window?t.scrollX:t.scrollLeft,o=t===window?t.scrollY:t.scrollTop;if(void 0===(t=t===window?e:t).oldScrollLeft&&void 0===t.oldScrollTop&&o&&n)return t.oldScrollLeft=0,t.oldScrollTop=0,t.oldScrollLeft=n,t.oldScrollTop=o,{x:!0,y:!0};void 0===t.oldScrollLeft&&(t.oldScrollLeft=0),void 0===t.oldScrollTop&&(t.oldScrollTop=0);var r=t.oldScrollTop!==o;return t.oldScrollLeft=n,t.oldScrollTop=o,{x:!r,y:r}},getScrollerWidth:function(o){var e,t;return o?new Promise(function(t,e){var n=document.createElement("div");n.innerHTML="1",o.appendChild(n),setTimeout(function(){var e=o.offsetWidth-n.offsetWidth;o.removeChild(n),t(e)})}):((e=document.createElement("div")).style.cssText="width:50px;height:50px;overflow: scroll;",e.innerHTML="<div>1</div>",document.body.appendChild(e),t=50-e.querySelector("div").offsetWidth,document.body.removeChild(e),t)},copyText:function(e){var t=document.createElement("input");t.value=e,document.body.appendChild(t),t.select(),document.execCommand("copy"),document.body.removeChild(t)},domWatch:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{},o=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,n=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?i(Object(n),!0).forEach(function(e){l(t,e,n[e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))})}return t}({attributes:!0,childList:!0,subtree:!0,once:!0},n),r=new o(function(){t.apply(void 0,arguments),n.once&&r.disconnect()});return e="string"==typeof e?document.querySelector(e):e,r.observe(e,n),r},addStyleCss:function(t,n){var o,e=c(document.styleSheets).find(function(e){return e.ownerNode.id===t});if(e){for(var r=0;r<n.length;r++)e.insertRule(n[r]);return e}return(o=document.createElement("style")).id="add_style_css_"+Date.now(),document.body.appendChild(o),o.onload=function(){for(var e=c(document.styleSheets).find(function(e){return e.ownerNode.id===o.id}),t=0;t<n.length;t++)e.insertRule(n[t])},o},getElementByTarget:function(e,t){if(!e)return null;if(e.classList.contains(t))return e;for(var n=e.parentNode;;){if(!n.classList)return null;if(n.classList.contains(t))return n;n=n.parentNode}},textAutoEllipsis:function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:"right",o=3<arguments.length?arguments[3]:void 0;if(e){var r=document.createElement("canvas").getContext("2d");if(r.font="normal ".concat(o?getComputedStyle(o,null)["font-size"]:"16px"," PingFang SC"),t<r.measureText(e).width){for(var i=0;i<e.length;i++)if(i){var l="right"===n?e.slice(0,i)+"...":"..."+e.slice(-i);if(t<r.measureText(l).width)return"right"===n?e.slice(0,i-1)+"...":"..."+e.slice(1-i)}return"right"===n?e.slice(0,e.length-1)+"...":"..."+e.slice(1-e.length)}}return e},resetInput:function(e){var t,n,o,r,i="string"==typeof e?document.querySelector(e):e||document.activeElement;"INPUT"!==i.tagName&&"TEXTAREA"!==i.tagName||(t=navigator.userAgent,n=/iPad|iPhone|iPod/.test(t)?t.includes("Safari/")||/OS 11_[0-3]\D/.test(t)?0:1:2,r=function(){0!=n&&(1==n?document.body.scrollTop=document.body.scrollHeight:i.scrollIntoView(!1))},i.addEventListener("focus",function(){setTimeout(r,300),o=setTimeout(r,1e3)}),i.addEventListener("blur",function(){clearTimeout(o),n&&/iPad|iPhone|iPod/.test(t)&&setTimeout(function(){document.body.scrollIntoView()})}))},cursor:function(e,t){if(e="string"==typeof e?document.querySelector(e):e,void 0===t)return e.selectionStart;e.focus(),t="first"===t?0:"last"===t?e.value.length:Number(t),"number"==typeof e.selectionStart&&"number"==typeof e.selectionEnd&&(e.selectionStart=e.selectionEnd=t)}}});
