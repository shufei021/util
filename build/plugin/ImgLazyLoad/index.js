!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).ImgLazyLoad=t()}(this,function(){"use strict";return function(){var r=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},o=Array.isArray(r.items)?r.items:document.querySelectorAll(r.items),s=new IntersectionObserver(function(e){e.forEach(function(e){var t;e.isIntersecting&&((t="IMG"===e.target.tagName?e.target:e.target.querySelector("img"))&&(t.setAttribute("src",t.dataset.src),t.removeAttribute("data-src")),s.unobserve(e.target),e.target===o[o.length-1])&&r.loadData().then(function(){var e=document.querySelectorAll(r.itemClass),t=function(e,t){for(var r=e.length-1;0<=r;r--)if(t(e[r]))return r;return-1}(e,function(e){return!("IMG"===e.tagName?e:e.querySelector("img")).getAttribute("data-src")});imgLazyLoad({itemClass:r.itemClass,scrollerClassClass:"string"==typeof r.scrollerClass?document.querySelector(r.scrollerClass):r.scrollerClass,items:Array.from(e).slice(t+1),loadData:r.loadData})})})},{root:"string"==typeof r.scrollerClass?document.querySelector(r.scrollerClass):r.scrollerClass||null});Array.from(o).forEach(function(e){s.observe(e)})}});
