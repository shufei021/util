!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t="undefined"!=typeof globalThis?globalThis:t||self).CountDown=e()}(this,function(){"use strict";function t(t){this.timer=null,this.ft=t.format||"dd天hh时mm分ss秒",this.list=t.list||[],this.key=t.timeKey,this.type=t.type,this.update()}return t.prototype.update=function(){this.operation(1)},t.prototype.cancel=function(){this.operation(0)},t.prototype.calc=function(t){var e=t[this.key],e=new Date(e.replace(/-/g,"/")).getTime()/1e3-Date.parse(new Date)/1e3,i={d:Math.floor(e/86400)<=0?"00":Math.floor(e/86400),h:parseInt(Math.floor(e%86400/3600))<=0?"00":String(parseInt(Math.floor(e%86400/3600))).padStart(2,0),m:parseInt(Math.floor(e%86400%3600)/60)<=0?"00":String(parseInt(Math.floor(e%86400%3600)/60)).padStart(2,0),s:parseInt(e%60)<=0?"00":String(parseInt(e%60)).padStart(2,0)};if(1==this.type)return this.ft.replace(/d|h{1,2}|m{1,2}|s{1,2}|S/g,function(t){return"d"===t[0]||2===t.length?i[t[0]]:Number(i[t[0]])});t.d=i.d,t.h=i.h,t.m=i.m,t.s=i.s},t.prototype.operation=function(t){var e=this;0==t?(clearInterval(this.timer),this.timer=null):1==t&&(this.timer&&clearInterval(this.timer),this.timer=setInterval(function(){for(var t=0;t<e.list.length;t++)1==e.type?e.list[t].end=e.calc(e.list[t]):e.calc(e.list[t])},1e3))},t});
